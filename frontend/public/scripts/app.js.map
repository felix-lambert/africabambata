{"version":3,"sources":["app/app.module.js","app/scripts/controllers/Admin.Ctrl.js","app/scripts/controllers/Alias.Ctrl.js","app/scripts/controllers/Basket.Ctrl.js","app/scripts/controllers/Edit.Ctrl.js","app/scripts/controllers/Home.Ctrl.js","app/scripts/controllers/Ingredient.Ctrl.js","app/scripts/controllers/LinkRecipe.Ctrl.js","app/scripts/controllers/Main.Ctrl.js","app/scripts/controllers/MainHeaderAngCtrl.js","app/scripts/controllers/Monitor.Ctrl.js","app/scripts/controllers/Parent.Ctrl.js","app/scripts/controllers/Recipe.Ctrl.js","app/scripts/directives/foodDrct.js","app/scripts/directives/formAutofillFixDrct.js","app/scripts/directives/imageDrct.js","app/scripts/directives/ingredientDrct.js","app/scripts/directives/loadingDrct.js","app/scripts/directives/loadingSpinDrct.js","app/scripts/directives/loginDrct.js","app/scripts/directives/mealDrct.js","app/scripts/directives/multipleSelectDrct.js","app/scripts/directives/orderDrct.js","app/scripts/directives/paginationDrct.js","app/scripts/directives/parentDrct.js","app/scripts/directives/parentsDrct.js","app/scripts/directives/parseDrct.js","app/scripts/directives/retailerDrct.js","app/scripts/directives/selectDrct.js","app/scripts/factories/Alias.Fctr.js","app/scripts/factories/Auth.Fctr.js","app/scripts/factories/Delay.Fctr.js","app/scripts/factories/Food.Fctr.js","app/scripts/factories/Recipe.Fctr.js","app/scripts/lib/sweetalert2.min.js","app/scripts/lib/ui-bootstrap-tpls.min.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC3LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC7hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCxoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9oBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CCjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC1HA;ACAA;AACA","file":"public/scripts/app.js","sourcesContent":["angular.module('marketplace', [\n    'ngRoute',\n    'nya.bootstrap.select',\n    'angularUtils.directives.dirPagination',\n    'ngStorage',\n    'ngMaterial',\n    'ngMessages',\n    'angucomplete-alt',\n    'ngAnimate',\n    'ui.bootstrap'\n]).config(appConfig).run(appRun);\n\nvar routeObject = {\n    '/': {\n        templateUrl: 'partials/home.html',\n        controller: 'HomeAngCtrl',\n        requireLogin: false,\n        requireAdmin: false\n    },\n    '/admin/parentfood': {\n        templateUrl: 'partials/parent.html',\n        controller: 'ParentAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: false,\n        resolve: {\n            getParentFoods: function ($http, $localStorage, $rootScope, $location) {\n                return $http.get('/api/foods/')\n                .success(function(res) {\n                    return res.parent_foods;\n                })\n                .error(function(error) {\n                    if (error) {\n                        if (error == \"Issue decoding incoming token.\" || error == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                            return null;\n                        } else {\n                            return {error: \"error: \" + error};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                });\n            }\n        }\n    },\n    '/admin/parentfood/:foodId': {\n        templateUrl: 'partials/editParent.html',\n        controller: 'EditAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: false,\n        resolve: {\n            updateFood: function ($localStorage, $rootScope, $location, $route, Food) {\n\n                function displayErrorMessage(data, status) {\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                            return null;\n                        } else {\n                            return {error: \"error: \" + data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n\n\n                function displayFoods(res) {\n                    return {data: res.items};\n                }\n                return Food.update($route.current.params.foodId)\n                .then(displayFoods)\n                .catch(displayErrorMessage);\n            }\n        }\n    },\n    '/admin': {\n        templateUrl: 'partials/admin.html',\n        controller: 'AdminAngCtrl',\n        requireLogin: true,\n        requireAdmin: true,\n        requireBlogger: false,\n        resolve: {\n            checkTokenTime: function(Auth, $localStorage, $rootScope, $location) {\n                console.log(\"checktokentime\");\n                function displayErrorMessage(data) {\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                        } else {\n                            return {error:data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n\n                return Auth.status()\n                .catch(displayErrorMessage);\n            }\n        }\n    },\n    '/main': {\n        templateUrl: 'partials/main.html',\n        controller: 'MainAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: true,\n        resolve: {\n            checkTokenTime: function(Auth, $localStorage, $rootScope, $location) {\n                function displayErrorMessage(data) {\n                    console.log('displayErrorMessage');\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                        } else {\n                            return {error:data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n\n                return Auth.status().catch(displayErrorMessage);\n            }\n        }\n    },\n    '/admin/ingredientalias': {\n        templateUrl: 'partials/ingredient.html',\n        controller: 'IngredientAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: false,\n        resolve: {\n            checkTokenTime: function(Auth, $localStorage, $rootScope, $location) {\n                function displayErrorMessage(data) {\n                    console.log('displayErrorMessage');\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                        } else {\n                            return {error:data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n\n                return Auth.status().catch(displayErrorMessage);\n            }\n        }\n    },\n    '/admin/editingredientalias/:ingredientId': {\n        templateUrl: 'partials/editIngredient.html',\n        controller: 'AliasAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: false,\n        resolve: {\n            updateAlias: function(Alias, $localStorage, $rootScope, $location, $route) {\n                console.log(\"update\");\n                function setAliases(res) {\n                    console.log(\"setAliases\");\n                    console.log(res);\n                    return {data: res};\n                }\n\n                function displayErrorMessage(data) {\n                    console.log('displayErrorMessage');\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                        } else {\n                            return {error:data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n                return Alias.get($route.current.params.ingredientId)\n                .then(setAliases)\n                .catch(displayErrorMessage);\n            }\n        }\n    },\n    '/recipes': {\n        templateUrl: 'partials/recipe.html',\n        controller: 'RecipeAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: true,\n        resolve: {\n            getAllRecipes: function (Recipe, $localStorage, $rootScope, $location) {\n                function setRecipes(res) {\n                    if (angular.equals(res, [])) {\n                        return {error: \"No recipe found for this user. Please create one.\"};\n                    }\n                    else {\n                        return {data: res};\n                    }\n                }\n\n                function displayErrorMessage(data, status) {\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                        } else {\n                            return {error:data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n                return Recipe.getAll($rootScope.currentUser._id).then(setRecipes).catch(displayErrorMessage);\n            }\n        }\n    },\n    '/monitorrecipe/:recipeId': {\n        templateUrl: 'partials/monitorRecipe.html',\n        controller: 'MonitorAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: true,\n        resolve: {\n            parseRecipe: function (Recipe, $localStorage, $rootScope, $location, $route) {\n\n                function displayErrorMessage(data, status) {\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                        } else {\n                            return {error:data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n\n                function setIngredients(res) {\n                    angular.forEach(res, function(value, key) {\n                        if (!value.unit) {\n                            value.unit = 'No unit';\n                        }\n                        if (!value.name) {\n                            value.name = 'No name';\n                        }\n                        if (value.is_reviewed == 1) {\n                            value.is_reviewed = 'yes';\n                        }\n                        if (value.is_reviewed === 0) {\n                            value.is_reviewed = 'no';\n                        }\n                        value.text = true;\n                    });\n                    return {data: res.reverse()};\n                    \n                }\n\n                return Recipe.parse($route.current.params.recipeId)\n                .then(setIngredients)\n                .catch(displayErrorMessage);\n\n            }\n        }\n    },\n    '/linkrecipe/:recipeId': {\n        templateUrl: 'partials/linkRecipe.html',\n        controller: 'LinkRecipeAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: true,\n        resolve: {\n            getRecipeForLink: function (Food, $localStorage, $rootScope, $location, $route) {\n\n                function displayErrorMessage(data, status) {\n                    if (data) {\n                        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                            $localStorage.currentUser = null;\n                            $rootScope.currentUser    = null;\n                            $location.path('/#/');\n                        } else {\n                            return {error:data};\n                        }\n                    } else {\n                        return {error: 'An error occured: please reload the page!'};\n                    }\n                }\n\n                function ingredientsList(res) {\n                    return {data: res};\n                }\n\n                return Food.seeIfAllRetailersAreLinked($route.current.params.recipeId)\n                .then(ingredientsList)\n                .catch(displayErrorMessage);\n            }\n        }\n    },\n    '/basket/:recipeId': {\n        templateUrl: 'partials/basket.html',\n        controller: 'BasketAngCtrl',\n        requireAdmin: true,\n        requireLogin: true,\n        requireBlogger: true,\n        resolve: {\n\n        }\n    }\n};\n\nappConfig.$inject = ['$httpProvider', '$routeProvider', '$locationProvider'];\n\nfunction appConfig($httpProvider, $routeProvider, $locationProvider) {\n    for (var path in routeObject) {\n        $routeProvider.when(path, routeObject[path]);\n    }\n    $routeProvider.otherwise({\n        redirectTo: '/'\n    });\n    $locationProvider.html5Mode(true);\n}\n\nappRun.$inject = ['$http', '$localStorage', '$rootScope', '$location', 'Auth'];\n\nfunction appRun($http, $localStorage, $rootScope, $location, Auth) {\n    $rootScope.$on('$routeChangeStart', function(event, next, current) {\n        console.log('__________ROUTE TEST_________________');\n        var currentUser        = $localStorage.currentUser;\n        $rootScope.currentUser = currentUser;\n        if ($rootScope.currentUser) {\n            $http.defaults.headers.common['auth-token'] = $rootScope.currentUser.token;\n        }\n        for (var i in routeObject) {\n            if (next.originalPath == i) {\n                if (routeObject[i].requireLogin && !$rootScope.currentUser) {\n                    console.log(i + ' require log in');\n                    $location.path('/');\n                } else if (routeObject[i].requireAdmin &&\n                    $rootScope.currentUser.user_groupe.indexOf('admin') === 0 ||\n                    routeObject[i].requireBlogger && $rootScope.currentUser.user_groupe.indexOf('blogger') === 0) {\n                    console.log('authorized');\n                    console.log(i + ' authorized');\n                } else {\n                    console.log('not authorized blogger');\n                    $location.path('/');\n                }\n            }\n        }\n    });\n}","angular.module('marketplace').controller('AdminAngCtrl', AdminAngCtrl);\n\nAdminAngCtrl.$inject = ['$location', '$scope'];\n\nfunction AdminAngCtrl($location, $scope) {\n    console.log('AdminAngCtrl');\n\n    $scope.recipe     = recipe;\n    $scope.parentfood = parentfood;\n    $scope.ingredient = ingredient;\n    $scope.loading    = false;\n\n    function recipe() {\n        $scope.loading = true;\n        $location.path('/#/admin/recipe');\n    }\n\n    function parentfood() {\n        $scope.loading = true;\n        $location.path('/#/admin/parentfood');\n    }\n\n    function ingredient() {\n        $scope.loading = true;\n        $location.path('/#/admin/ingredientalias');\n    }\n}\n","angular.module('marketplace').controller('AliasAngCtrl', AliasAngCtrl);\n\nAliasAngCtrl.$inject = ['Alias', '$routeParams', '$scope', '$filter', '$q', '$http', '$location', '$timeout', '$localStorage', '$rootScope', 'updateAlias'];\n\nfunction AliasAngCtrl(Alias, $routeParams, $scope, $filter, $q, $http, $location, $timeout, $localStorage, $rootScope, updateAlias) {\n\n    console.log('AliasAngCtrl');\n    var orderBy             = $filter('orderBy');\n    $scope.currentPage      = 1;\n    $scope.pageSize         = 50;\n    $scope.currentFoodPage  = 1;\n    $scope.foodPageSize     = 20;\n    $scope.aliases          = [];\n    $scope.items            = [];\n    $scope.orderAlias       = orderAlias;\n    $scope.orderItems       = orderItems;\n    $scope.ingredient       = [];\n    $scope.querySearchName  = querySearchName;\n    $scope.searchIngredient = searchIngredient;\n    $scope.loading          = true;\n    $scope.names            = [];\n    $scope.setAlias         = setAlias;\n    \n    var aliases             = null;\n    aliases                 = updateAlias ? updateAlias : null;\n    \n    if (aliases !== null) {\n        if (aliases.error) {\n            $scope.errorMessage = aliases.error;\n        } else {\n            $scope.ingredientId = $routeParams.ingredientId;\n            $scope.alias        = aliases.data.aliases[0];\n            \n            $scope.aliases      = aliases.data.aliases;\n            $scope.items        = aliases.data.items;\n            angular.forEach($scope.aliases, function(value, key) {\n                $scope.names.push(value.name);\n            });\n            $scope.loading = false;\n        }\n    }\n\n    function callAtTimeout() {\n        $location.path('/admin/ingredientalias/');\n    }\n\n    function setAlias(_id, id) {\n        $scope.loading     = true;\n        $scope.loadingSpin = true;\n        var addAlias = {\n            _id: _id,\n            id: id,\n            aliases: [$routeParams.ingredientId]\n        };\n        Alias.save(id, addAlias, $scope.aliases).then(function(res) {\n            swal('Set!', 'The alias is set', 'success');\n            $timeout(callAtTimeout, 3000);\n        }).catch(function(data, status) {\n            console.log('error', data, status);\n            $scope.errorMessage = \"error: \" + data;\n        })\n        .finally(function () {\n            console.log('finally finished');\n            $scope.loading     = false;\n            $scope.loadingSpin = false;\n        });\n    }\n\n    function querySearchName(query) {\n        var defer = $q.defer();\n        $http.post('/api/ingredient', {\n            name: query\n        })\n        .success(function(res) {\n            defer.resolve(res.ingredient);\n        });\n        return defer.promise;\n    }\n\n    function setIngredients(res) {\n        angular.forEach(res.ingredient, function(value, key) {\n            for (var i = 0; i < $scope.aliases.length; i++) {\n                if ($scope.aliases[i].id == value._source.id) {\n                    value._source.added = true;\n                    break;\n                } else {\n                    value._source.added = false;\n                }\n            }\n        });\n        $scope.ingredients = res.ingredient;\n    }\n\n    function displayErrorMessage(data, status) {\n        if (data) {\n            if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                $scope.errorMessage = \"error: \" + data + \" Disconnecting...\";\n                $localStorage.currentUser = null;\n                $rootScope.currentUser    = null;\n                $location.path('/#/');\n            } else {\n                $scope.errorMessage = \"error: \" + data;\n            }\n        } else {\n            $scope.errorMessage = 'An error occured: please reload the page!';\n        }\n    }\n\n    function endLoading() {\n        $scope.loadingSpin = false;\n        $scope.loading     = false;\n    }\n\n    function searchIngredient() {\n        $scope.loading = true;\n        Alias.search($scope.ingredient)\n        .then(setIngredients)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n\n    function orderAlias(predicate) {\n        $scope.predicateMeal = predicate;\n        $scope.reverseMeal   = ($scope.predicateMeal === predicate) ? !$scope.reverseMeal : false;\n        $scope.aliases       = orderBy($scope.aliases, predicate, $scope.reverseMeal);\n    }\n\n    function orderItems(predicate) {\n        $scope.predicateMeal = predicate;\n        $scope.reverseMeal   = ($scope.predicateMeal === predicate) ? !$scope.reverseMeal : false;\n        $scope.items         = orderBy($scope.items, predicate, $scope.reverseMeal);\n    }\n\n}\n\nfunction PaginateController($scope) {\n    $scope.pageChangeHandler = function(num) {};\n}","angular.module('marketplace').controller('BasketAngCtrl', BasketAngCtrl);\n\nBasketAngCtrl.$inject = ['Auth', 'Food', '$location', '$scope', '$routeParams', '$timeout', '$q', '$localStorage', '$rootScope'];\n\nfunction BasketAngCtrl(Auth, Food, $location, $scope, $routeParams, $timeout, $q, $localStorage, $rootScope) {\n    console.log('________________BasketAngCtrl____________________________');\n    $scope.loadingSpin = false;\n    $scope.loading     = true;\n    $scope.parsed      = [];\n    $scope.retailers   = [];\n    var retailers      = [];\n    var parsed         = [];\n    $scope.prices      = [];\n\n    function callAtTimeout() {\n        Auth.logout();\n        $localStorage.currentUser = null;\n        $rootScope.currentUser    = null;\n        $location.path('/#/');\n    }\n\n    function displayErrorMessage(data, status) {\n        if (data) {\n            if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                $scope.errorMessage = \"error: \" + data + \" Disconnecting...\";\n                $timeout(callAtTimeout, 3000);\n            } else {\n                $scope.errorMessage = \"error: \" + data;\n            }\n        } else {\n            $scope.errorMessage = 'An error occured: please reload the page!';\n        }\n    }\n\n    function endLoading() {\n        $scope.loading = false;\n    }\n\n    function parseSentenceForNumber(sentence) {\n        if (sentence) {\n            var matches = sentence.match(/(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))/);\n            return matches && matches[0] || null;\n        } else {\n            return 0;\n        }\n    }\n\n    function round(value, decimals) {\n        return Number(Math.round(value+'e'+decimals)+'e-'+decimals);\n    }\n\n    function linkIngredients(res) {\n        $scope.safewayPrice     = 0;\n        $scope.shiptPrice       = 0;\n        $scope.walmartPrice     = 0;\n        $scope.freshdirectPrice = 0;\n        $scope.peapodPrice      = 0;\n        $scope.instacartPrice   = 0;\n        $scope.walmart          = [];\n        $scope.freshdirect      = [];\n        $scope.shipt            = [];\n        $scope.peapod           = [];\n        $scope.instacart        = [];\n        $scope.safeway          = [];\n\n        angular.forEach(res, function(value, key) {\n            if (value.name) {\n                switch (value.retailer_id) {\n                    case 2:\n                        $scope.safeway.push({\n                            name: value.name,\n                            quantity: value.quantity,\n                            unit: value.unit,\n                            id: value.id,\n                            _id: value._id,\n                            description: value.description,\n                            qty: value.qty,\n                            retailer_id: value.retailer_id,\n                            price: value.price,\n                            image_url: value.image_url\n                        });\n                        if (value.price || !isNaN(value.price)) {\n                            $scope.safewayPrice = $scope.safewayPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                        }\n                        break;\n                    case 6:\n                        $scope.peapod.push({\n                            name: value.name,\n                            quantity: value.quantity,\n                            unit: value.unit,\n                            id: value.id,\n                            _id: value._id,\n                            description: value.description,\n                            qty: value.qty,\n                            retailer_id: value.retailer_id,\n                            price: value.price,\n                            image_url: value.image_url\n                        });\n                        if (value.price || !isNaN(value.price)) {\n                            $scope.peapodPrice = $scope.peapodPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                        }\n                        break;\n                    case 8:\n                        $scope.walmart.push({\n                            name: value.name,\n                            quantity: value.quantity,\n                            unit: value.unit,\n                            id: value.id,\n                            _id: value._id,\n                            description: value.description,\n                            qty: value.qty,\n                            retailer_id: value.retailer_id,\n                            price: value.price,\n                            image_url: value.image_url\n                        });\n                        if (value.price || !isNaN(value.price)) {\n                            $scope.walmartPrice = $scope.walmartPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                        }\n                        break;\n                    case 9:\n                        $scope.freshdirect.push({\n                            name: value.name,\n                            quantity: value.quantity,\n                            unit: value.unit,\n                            id: value.id,\n                            _id: value._id,\n                            description: value.description,\n                            qty: value.qty,\n                            retailer_id: value.retailer_id,\n                            price: value.price,\n                            image_url: value.image_url\n                        });\n\n                        if (value.price || !isNaN(value.price)) {\n                            $scope.freshdirectPrice = $scope.freshdirectPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                        }\n                        break;\n                    case 207:\n                        $scope.instacart.push({\n                            name: value.name,\n                            quantity: value.quantity,\n                            unit: value.unit,\n                            id: value.id,\n                            _id: value._id,\n                            description: value.description,\n                            qty: value.qty,\n                            retailer_id: value.retailer_id,\n                            price: value.price,\n                            image_url: value.image_url\n                        });\n                        if (value.price || !isNaN(value.price)) {\n                            $scope.instacartPrice = $scope.instacartPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                        }\n                        break;\n                    case 209:\n                        $scope.shipt.push({\n                            name: value.name,\n                            quantity: value.quantity,\n                            unit: value.unit,\n                            id: value.id,\n                            _id: value._id,\n                            description: value.description,\n                            qty: value.qty,\n                            retailer_id: value.retailer_id,\n                            price: value.price,\n                            image_url: value.image_url\n                        });\n                        if (value.price || !isNaN(value.price)) {\n                            $scope.shiptPrice = $scope.shiptPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                        }\n                        break;\n                }\n            }\n        });\n        $scope.safewayPrice     = Math.round($scope.safewayPrice * 100) / 100;\n        $scope.shiptPrice       = Math.round($scope.shiptPrice * 100) / 100;\n        $scope.walmartPrice     = Math.round($scope.walmartPrice * 100) / 100;\n        $scope.freshdirectPrice = Math.round($scope.freshdirectPrice * 100) / 100;\n        $scope.peapodPrice      = Math.round($scope.peapodPrice * 100) / 100;\n        $scope.instacartPrice   = Math.round($scope.instacartPrice * 100) / 100;\n        \n    }\n\n    Food.seeIfAllRetailersAreLinked($routeParams.recipeId)\n    .then(linkIngredients)\n    .catch(displayErrorMessage)\n    .finally(endLoading);\n}","angular.module('marketplace').controller('EditAngCtrl', EditAngCtrl).controller('PaginateController', PaginateController);\n\nEditAngCtrl.$inject = ['Food', '$routeParams', '$filter', '$scope', '$timeout', '$q', '$location', '$localStorage', '$rootScope', 'updateFood'];\n\nfunction EditAngCtrl(Food, $routeParams, $filter, $scope, $timeout, $q, $location, $localStorage, $rootScope, updateFood) {\n\n    var orderBy            = $filter('orderBy');\n    $scope.loading         = false;\n    $scope.foods           = [];\n    $scope.currentPage     = 1;\n    $scope.currentFoodPage = 1;\n    $scope.pageSize        = 50;\n    $scope.foodPageSize    = 20;\n    $scope.meals           = [];\n    $scope.searchMeal      = searchMeal;\n    $scope.orderFood       = orderFood;\n    $scope.editMain        = editMain;\n\n    $scope.foodId = $routeParams.foodId;\n    var foods     = updateFood;\n\n    if (foods !== null) {\n        if (foods.error) {\n            $scope.errorMessage = foods.error;\n        } else {\n            $scope.foods = foods.data;\n        }\n    }\n\n    retailerList();\n\n    $scope.addMain = addMain;\n    $scope.add     = add;\n\n    $scope.selectedToppings = [];\n    $scope.printSelectedToppings = function printSelectedToppings() {\n        var numberOfToppings = this.selectedToppings.length;\n        // If there is more than one topping, we add an 'and'\n        // to be gramatically correct. If there are 3+ toppings\n        // we also add an oxford comma.\n        if (numberOfToppings > 1) {\n          var needsOxfordComma = numberOfToppings > 2;\n          var lastToppingConjunction = (needsOxfordComma ? ',' : '') + ' and ';\n          var lastTopping = lastToppingConjunction +\n          this.selectedToppings[this.selectedToppings.length - 1];\n          return this.selectedToppings.slice(0, -1).join(', ') + lastTopping;\n      }\n      return this.selectedToppings.join('');\n  };\n\n  function addMainItem(res) {\n    angular.forEach($scope.meals, function(value, key) {\n        if (value.id == res.parent.id) {\n            value.is_main_item = true;\n            value.added        = true;\n        }\n    });\n    angular.forEach($scope.foods, function(value, key) {\n        if (value.is_main_item === true) {\n            value.is_main_item = false;\n        }\n    });\n    $scope.foods.push({\n        id: res.parent.id,\n        name: res.parent.name,\n        retailer: res.parent.retailer,\n        is_main_item: true\n    });\n}\n\nfunction displayErrorMessage(data, status) {\n    if (data) {\n        if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n            $scope.errorMessage = \"error: \" + data + \" Disconnecting...\";\n            $localStorage.currentUser = null;\n            $rootScope.currentUser    = null;\n            $location.path('/#/');\n        } else {\n            $scope.errorMessage = \"error: \" + data;\n        }\n    } else {\n        $scope.errorMessage = 'An error occured: please reload the page!';\n    }\n}\n\nfunction endLoading() {\n    $scope.loading = false;\n}\n\nfunction addMain(parent, id) {\n    $scope.loading = true;\n    var addFood = {\n        item_id: id,\n        parent_food_id: $routeParams.foodId,\n        main_item: true\n    };\n    $q.all({\n        parent: $q.when(parent),\n        data: Food.save(id, addFood, $scope.foods)\n    })\n    .then(addMainItem)\n    .catch(displayErrorMessage)\n    .finally(endLoading);\n}\n\nfunction addItem(res) {\n    angular.forEach($scope.meals, function(value, key) {\n        if (value.id == res.parent.id) {\n            value.added = true;\n        }\n    });\n    $scope.foods.push({\n        id: res.parent.id,\n        name: res.parent.name,\n        retailer: res.parent.retailer\n    });\n}\n\nfunction add(parent, id) {\n    $scope.loading = true;\n    var addFood = {\n        item_id: id,\n        parent_food_id: $routeParams.foodId\n    };\n    $q.all({\n        parent: $q.when(parent),\n        data: Food.save(id, addFood, $scope.foods)\n    })\n    .then(addItem)\n    .catch(displayErrorMessage)\n    .finally(endLoading);\n}\n\nfunction getName(result) {\n    if (result.message) {\n        $scope.errorMessage = result.message;\n    } else {\n        $scope.errorMessage = false;\n        $scope.parent = result[0].name;\n    }\n}\n\n$scope.loading = true;\nFood.findName($routeParams.foodId)\n.then(getName)\n.catch(displayErrorMessage)\n.finally(endLoading);\n\nfunction timeoutUpdateFood() {\n    $timeout(function(){\n        updateFood();\n    }, 300);\n}\n\nfunction editMain(id) {\n    $scope.loading = true;\n    var edit_main = {\n        item_id: id,\n        parent_food_id: $routeParams.foodId\n    };\n    Food.editMain(edit_main)\n    .then(timeoutUpdateFood)\n    .catch(displayErrorMessage)\n    .finally(endLoading);\n}\n\nfunction orderFood(predicate) {\n    $scope.predicate = predicate;\n    $scope.reverse   = ($scope.predicate === predicate) ? !$scope.reverse : false;\n    $scope.foods     = orderBy($scope.foods, predicate, $scope.reverse);\n}\n\nfunction checkWhatIsAdded(result) {\n    if (result.message) {\n        $scope.errorMessage = result.message;\n    } else {\n        $scope.errorMessage = false;\n        $scope.meals        = result;\n        angular.forEach($scope.meals, function(value, key) {\n            var found = false;\n            for (var i = 0; i < $scope.foods.length; i++) {\n                if ($scope.foods[i].id == value.id) {\n                    value.added = true;\n                    break;\n                } else {\n                    value.added = false;\n                }\n            }\n        });\n    }\n}\n\nfunction searchMeal() {\n    $scope.loading = true;\n    if ($scope.food && $scope.food.name ||$scope.food.retailers) {\n        $scope.error = null;\n        Food.find($scope.food)\n        .then(checkWhatIsAdded)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    } else {\n        $scope.error = \"You need to choose a retailer and enter an ingredient\";\n        endLoading();\n    }\n}\n\n\n\n\n\nfunction getRetailers(res) {\n    $scope.retailers = res.retailers;\n}\n\nfunction retailerList() {\n    Food.listRetailers()\n    .then(getRetailers)\n    .catch(displayErrorMessage)\n    .finally(endLoading);\n}\n\n}\n\nfunction PaginateController($scope) {\n    $scope.pageChangeHandler = function(num) {\n\n    };\n}","angular.module('marketplace').controller('HomeAngCtrl', HomeAngCtrl);\n\nHomeAngCtrl.$inject = ['$location', 'Auth', '$scope', '$rootScope'];\n\nfunction HomeAngCtrl($location, Auth, $scope, $rootScope) {\n    console.log('HomeAngCtrl');\n    if ($rootScope.currentUser) {\n        $location.path('/recipes');\n    }\n    $scope.loading = false;\n    $scope.login   = login;\n\n    function login() {\n        $scope.loading = true;\n        Auth.login($scope.user);\n    }\n\n    $scope.loading = false;\n}","angular.module('marketplace').controller('IngredientAngCtrl', IngredientAngCtrl);\n\nIngredientAngCtrl.$inject = ['Alias', '$scope'];\n\nfunction IngredientAngCtrl(Alias, $scope) {\n    console.log('IngredientAngCtrl');\n    \n    $scope.currentPage      = 1;\n    $scope.pageSize         = 50;\n    $scope.searchIngredient = searchIngredient;\n\n    function getAliases(res) {\n        $scope.errorMessage = '';\n        $scope.ingredients = res.ingredient;\n        $scope.loading     = false;\n    }\n\n    function displayErrorMessage(data, status) {\n        if (data.message) {\n            $scope.errorMessage = \"error: \" + \"Please enter a shorter string in your searchbox!\";\n        }\n    }\n\n    function endLoading() {\n        $scope.loading = false;\n    }\n\n    function searchIngredient() {\n        $scope.loading = true;\n        Alias.search($scope.ingredient)\n        .then(getAliases)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n}","angular.module('marketplace').controller('LinkRecipeAngCtrl', LinkRecipeAngCtrl);\n\nLinkRecipeAngCtrl.$inject = ['Food', '$http', '$scope', 'Recipe', '$q', '$routeParams', '$location', '$window', 'getRecipeForLink'];\n\nfunction LinkRecipeAngCtrl(Food, $http, $scope, Recipe, $q, $routeParams, $location, $window, getRecipeForLink) {\n    console.log('LinkRecipeAngCtrl');\n\n    $scope.watch           = null;\n    $scope.querySearchName = querySearchName;\n    $scope.querySearchAdd  = querySearchAdd;\n    $scope.link            = link;\n    $scope.selectedItem    = [];\n    $scope.add             = [];\n    $scope.retailer        = {};\n    \n    $scope.items           = [];\n    $scope.recipeId        = $routeParams.recipeId;\n    $scope.text            = text;\n    $scope.edit            = edit;\n    $scope.myModel         = null;\n    \n    $scope.loadingSpin     = false;\n    $scope.loading         = true;\n    $scope.parsed          = [];\n    $scope.retailers       = [];\n    var retailers          = [];\n    var parsed             = [];\n    $scope.prices          = [];\n\n    var res = getRecipeForLink;\n\n\n    if (res !== null) {\n        if (res.error) {\n            $scope.errorMessage = res.error;\n            $scope.loading      = false;\n        } else {\n            $scope.res              = res.data;\n            $scope.safewayPrice     = 0;\n            $scope.shiptPrice       = 0;\n            $scope.walmartPrice     = 0;\n            $scope.freshdirectPrice = 0;\n            $scope.peapodPrice      = 0;\n            $scope.instacartPrice   = 0;\n            $scope.walmart          = [];\n            $scope.freshdirect      = [];\n            $scope.shipt            = [];\n            $scope.peapod           = [];\n            $scope.instacart        = [];\n            $scope.safeway          = [];\n\n            angular.forEach(res.data, function(value, key) {\n                if (value.name) {\n                    switch (value.retailer_id) {\n                        case 2:\n                            $scope.safeway.push({\n                                name: value.name,\n                                quantity: value.quantity,\n                                unit: value.unit,\n                                id: value.id,\n                                _id: value._id,\n                                description: value.description,\n                                qty: value.qty,\n                                retailer_id: value.retailer_id,\n                                price: value.price,\n                                image_url: value.image_url\n                            });\n                            if (value.price || !isNaN(value.price)) {\n                                $scope.safewayPrice = $scope.safewayPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                            }\n                            break;\n                        case 6:\n                            $scope.peapod.push({\n                                name: value.name,\n                                quantity: value.quantity,\n                                unit: value.unit,\n                                id: value.id,\n                                _id: value._id,\n                                description: value.description,\n                                qty: value.qty,\n                                retailer_id: value.retailer_id,\n                                price: value.price,\n                                image_url: value.image_url\n                            });\n                            if (value.price || !isNaN(value.price)) {\n                                $scope.peapodPrice = $scope.peapodPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                            }\n                            break;\n                        case 8:\n                            $scope.walmart.push({\n                                name: value.name,\n                                quantity: value.quantity,\n                                unit: value.unit,\n                                id: value.id,\n                                _id: value._id,\n                                description: value.description,\n                                qty: value.qty,\n                                retailer_id: value.retailer_id,\n                                price: value.price,\n                                image_url: value.image_url\n                            });\n                            if (value.price || !isNaN(value.price)) {\n                                $scope.walmartPrice = $scope.walmartPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                            }\n                            break;\n                        case 9:\n                            console.log(value);\n                            $scope.freshdirect.push({\n                                name: value.name,\n                                quantity: value.quantity,\n                                unit: value.unit,\n                                id: value.id,\n                                _id: value._id,\n                                description: value.description,\n                                qty: value.qty,\n                                retailer_id: value.retailer_id,\n                                price: value.price,\n                                image_url: value.image_url\n                            });\n\n                            if (value.price || !isNaN(value.price)) {\n                                $scope.freshdirectPrice = $scope.freshdirectPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                            }\n                            break;\n                        case 207:\n                            $scope.instacart.push({\n                                name: value.name,\n                                quantity: value.quantity,\n                                unit: value.unit,\n                                id: value.id,\n                                _id: value._id,\n                                description: value.description,\n                                qty: value.qty,\n                                retailer_id: value.retailer_id,\n                                price: value.price,\n                                image_url: value.image_url\n                            });\n                            if (value.price || !isNaN(value.price)) {\n                                $scope.instacartPrice = $scope.instacartPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                            }\n                            break;\n                        case 209:\n                            $scope.shipt.push({\n                                name: value.name,\n                                quantity: value.quantity,\n                                unit: value.unit,\n                                id: value.id,\n                                _id: value._id,\n                                description: value.description,\n                                qty: value.qty,\n                                retailer_id: value.retailer_id,\n                                price: value.price,\n                                image_url: value.image_url\n                            });\n                            if (value.price || !isNaN(value.price)) {\n                                $scope.shiptPrice = $scope.shiptPrice + parseFloat(parseSentenceForNumber(value.price)) * parseInt(value.qty);\n                            }\n                            break;\n                    }\n                }\n            });\n\n            $scope.safewayPrice     = Math.round($scope.safewayPrice * 100) / 100;\n            $scope.shiptPrice       = Math.round($scope.shiptPrice * 100) / 100;\n            $scope.walmartPrice     = Math.round($scope.walmartPrice * 100) / 100;\n            $scope.freshdirectPrice = Math.round($scope.freshdirectPrice * 100) / 100;\n            $scope.peapodPrice      = Math.round($scope.peapodPrice * 100) / 100;\n            $scope.instacartPrice   = Math.round($scope.instacartPrice * 100) / 100;\n            $scope.loadingSpin      = false;\n            $scope.main             = true;\n            $scope.loading = false;\n        }\n    }\n\n    function parseSentenceForNumber(sentence) {\n        if (sentence) {\n            var matches = sentence.match(/(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))/);\n            return matches && matches[0] || null;\n        } else {\n            return 0;\n        }\n    }\n\n    function round(value, decimals) {\n        return Number(Math.round(value+'e'+decimals)+'e-'+decimals);\n    }\n\n\n    function displayField(res) {\n        $scope.parsed = [];\n        var parsed    = [];\n        angular.forEach(res.data, function(value, key) {\n            if (value.name != res.name) {\n                parsed.push({\n                    name: value.name,\n                    quantity: value.quantity,\n                    unit: value.unit,\n                    id: value.id,\n                    _id: value._id,\n                    description: value.description,\n                    qty: value.qty,\n                    text: true\n                });\n            } else {\n                parsed.push({\n                    name: value.name,\n                    quantity: value.quantity,\n                    unit: value.unit,\n                    id: value.id,\n                    text: false,\n                    description: value.description,\n                    qty: value.qty\n                });\n            }\n        });\n        $scope.parsed = parsed.reverse();\n        parsed = [];\n    }\n\n    function resetDisplay() {\n        $scope.watch  = 'watch';\n        $scope.noLink = null;\n    }\n\n\n\n    function edit(name) {\n        $q.all({\n            name: $q.when(name),\n            data: Food.seeIfRetailerIsLinked($routeParams.recipeId, $scope.retailer.id)\n        })\n        .then(displayField)\n        .then(resetDisplay);\n    }\n\n    function text() {\n        checkIfRetailerIsLinked();\n    }\n\n    function getRecipe(res) {\n        var parsed = [];\n        angular.forEach(res, function(value, key) {\n            if (value.name) {\n                parsed.push({\n                    name: value.name,\n                    quantity: value.quantity,\n                    unit: value.unit,\n                    id: value.id,\n                });\n            }\n            if (value.ingredient_id === null) {\n                $location.path('/monitorrecipe/' + $routeParams.recipeId);\n            }\n            value.text = true;\n        });\n        $scope.parsed = parsed.reverse();\n    }\n\n    function displayErrorMessage(data, status) {\n        if (data) {\n            if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                $scope.errorMessage = \"error: \" + data + \" Disconnecting...\";\n                $localStorage.currentUser = null;\n                $rootScope.currentUser    = null;\n                $location.path('/#/');\n            } else {\n                $scope.errorMessage = \"error: \" + data;\n            }\n        } else {\n            $scope.errorMessage = 'An error occured: please reload the page!';\n        }\n    }\n\n    function endLoading() {\n        $scope.loading = false;\n    }\n\n\n    function getLinkingRecipe() {\n        Recipe.parse($routeParams.recipeId).then(getRecipe)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n\n    function getLinkedRecipe(res) {\n        $scope.parsed = [];\n        var parsed    = [];\n        angular.forEach(res, function(value, key) {\n            if (value.name) {\n                parsed.push({\n                    name: value.name,\n                    quantity: value.quantity,\n                    unit: value.unit,\n                    id: value.id,\n                    _id: value._id,\n                    description: value.description,\n                    qty: value.qty,\n                    text: true\n                });\n            }\n        });\n        $scope.parsed = parsed.reverse();\n        $scope.watch  = 'watch';\n        $scope.noLink = null;\n    }\n\n    function checkIfRetailerIsLinked() {\n        Food.seeIfRetailerIsLinked($routeParams.recipeId, $scope.retailer.id)\n        .then(getLinkedRecipe)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n\n    $scope.clearValue = function() {\n        $scope.watch   = null;\n        $scope.myModel = undefined;\n        $scope.noLink  = null;\n    };\n\n    function linking() {\n        swal('Linking!', 'The link has been added', 'success');\n        checkIfRetailerIsLinked();\n    }\n\n    $scope.addL = function(item, qty, index, retailerId) {\n        var addLink                       = {};\n        addLink.widget_item_ingredient_id = $scope.parsed[index].id;\n        addLink.retailer_id               = retailerId;\n        if (item) {\n            addLink.item_id = item;\n        }\n        if (qty) {\n            addLink.quantity = qty;\n        }\n        addLink.unit_id = null;\n        $http.post('/api/items/addLink', addLink)\n        .success(linking)\n        .error(endLoading);\n    };\n\n    $scope.editL = function(item, qty, index, retailerId) {\n        var editLink                       = {};\n        editLink.id                        = $scope.parsed[index].id;\n        editLink.widget_item_ingredient_id = $scope.parsed[index]._id;\n        editLink.retailer_id               = retailerId;\n        editLink.item_id = item;\n        if (qty) {\n            editLink.quantity = qty;\n        }\n        editLink.unit_id = null;\n        $http.post('/api/items/editLink', editLink).success(function(res) {\n            swal('Linking!', 'The link has been edited', 'success');\n            checkIfRetailerIsLinked();\n        });\n    };\n\n    function linkIngredients(res) {\n        console.log('linkIngredients');\n        if (res.length === 0) {\n            console.log('getLinkingRecipe');\n            getLinkingRecipe();\n            $scope.noLink      = 'noLink';\n            $scope.watch       = null;\n            $scope.loadingSpin = false;\n        } else {\n            console.log(res);\n            $scope.parsed     = [];\n            var parsed        = [];\n            var totallyLinked = true;\n            angular.forEach(res, function(value, key) {\n                if (value.name) {\n                    parsed.push({\n                        name: value.name,\n                        quantity: value.quantity,\n                        unit: value.unit,\n                        id: value.id,\n                        _id: value._id,\n                        description: value.description,\n                        qty: value.qty,\n                        text: true\n                    });\n                }\n                if (!value.description) {\n                    totallyLinked = false;\n                }\n            });\n            $scope.parsed = parsed.reverse();\n            if (totallyLinked) {\n                swal('Linking!', 'Recipe already linked', 'success');\n            } else {\n                swal('Linking!', 'To publish the recipe, all ingredients needs to be linked', 'warning');\n            }\n            $scope.watch       = 'watch';\n            $scope.noLink      = null;\n            $scope.loadingSpin = false;\n        }\n    }\n\n\n    $scope.save = function(retailer) {\n        $scope.main         = false;\n        $scope.loadingSpin  = true;\n        $scope.watch        = null;\n        $scope.noLink       = null;\n        $scope.parsed       = [];\n        $scope.selectedItem = [];\n        $scope.add          = [];\n        $scope.retailer.name = retailer;\n        switch (retailer) {\n            case 'safeway':\n            $scope.retailer.id = 2;\n            $scope.url = \"https://shop.safeway.com/ecom/my-cart\";\n            break;\n            case 'peapod':\n            $scope.retailer.id = 6;\n            $scope.url = \"https://www.peapod.com/shop\";\n            break;\n            case 'walmart':\n            $scope.retailer.id = 8;\n            $scope.url = \"http://www.walmart.com/cp/food/976759\";\n            break;\n            case 'freshdirect':\n            $scope.retailer.id = 9;\n            $scope.url = \"https://www.freshdirect.com\";\n            break;\n            case 'instacart':\n            $scope.retailer.id = 207;\n            $scope.url = \"https://www.instacart.com\";\n            break;\n            case 'shipt':\n            $scope.retailer.id = 209;\n            $scope.url = \"https://app.shipt.com/shop\";\n            break;\n        }\n        Food.seeIfRetailerIsLinked($routeParams.recipeId, $scope.retailer.id)\n        .then(linkIngredients)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    };\n\n    function setRetailers(res) {\n        $scope.retailers = res.retailers;\n    }\n\n    function retailerList() {\n        Food.listRetailers()\n        .then(setRetailers)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n\n    function link(item, qty) {\n        var items = [];\n        var linked;\n        for (var j = 0; j < item.length; j++) {\n            if (item[j].name._source.name === null || !qty[j] || qty[j].quantity === null) {\n                swal('Please link all the ingredients', 'Try again', 'warning');\n                linked = 'notLinked';\n                break;\n            } else {\n                items.push({\n                    widget_item_ingredient_id: $scope.parsed[j].id,\n                    item_id: item[j].name._source.suggest.payload.item_id,\n                    retailer_id: $scope.retailer.id,\n                    quantity: qty[j] ? qty[j].quantity : null,\n                    unit_id: null\n                });\n            }\n        }\n        if (linked !== 'notLinked') {\n            var publish = {\n                widget_item_id: $routeParams.recipeId,\n                retailer_id: $scope.retailer.id\n            };\n            $http.post('/api/items/link', items)\n            .success(function(err) {\n                if (!err) {\n                    swal({\n                      title: 'The recipe is linked to a retailer',\n                      text: 'Do you wish to link your recipe to an other retailer?',\n                      type: 'warning',\n                      showCancelButton: true,\n                      confirmButtonColor: '#3085d6',\n                      cancelButtonColor: '#d33',\n                      confirmButtonText: 'Yes!',\n                      cancelButtonText: 'No!',\n                      confirmButtonClass: 'btn btn-success',\n                      cancelButtonClass: 'btn btn-danger',\n                      buttonsStyling: false\n                    }).then(function() {\n                        $http.post('/api/items/publish', publish)\n                        .success(function(res) {\n                            swal('Continue...', 'Choose an other retailer', 'warning');\n                            $window.location.reload();\n                        });\n                    }, function(dismiss) {\n                      // dismiss can be 'cancel', 'overlay', 'close', 'timer'\n                      if (dismiss === 'cancel') {\n                        $http.post('/api/items/publish', publish)\n                        .success(function(res) {\n                            console.log('yeah');\n                            swal('Linking!', 'Your job is done.', 'success');\n                            $location.path('/basket/' + $routeParams.recipeId);\n                        });\n                      }\n                    });\n                            \n                } else {\n                    swal('Error...', 'Linking failed', 'warning');\n                }\n            });\n        }\n    }\n\n    function querySearchAdd(query) {\n        var defer = $q.defer();\n        $http.post('/api/items/' + $scope.retailer.name, {\n            name: query\n        })\n        .success(function(res) {\n            $scope.errorMessage = null;\n            defer.resolve(res.item);\n        }).error(function(error) {\n            defer.reject(error);\n            if (error.displayName !== \"RequestTimeout\") {\n                $scope.errorMessage = \"error: \" + \"Please enter a shorter string in your searchbox!\";\n            }\n        });\n        return defer.promise;\n    }\n\n    function querySearchName(query) {\n        var defer = $q.defer();\n        $http.post('/api/ingredientrecipe', {\n            name: query\n        })\n        .success(function(res) {\n            defer.resolve(res.item);\n        });\n        return defer.promise;\n    }\n}","angular.module('marketplace').controller('MainAngCtrl', MainAngCtrl);\n\nMainAngCtrl.$inject = ['$localStorage', '$rootScope', '$http', '$scope', '$location', 'Auth'];\n\nfunction MainAngCtrl($localStorage, $rootScope, $http, $scope, $location, Auth) {\n    console.log('MainAngCtrl');\n\n\n}","angular.module('marketplace')\n    .controller('MainHeaderAngCtrl', MainHeaderAngCtrl);\n\nMainHeaderAngCtrl.$inject = ['Auth', '$localStorage', '$location', '$scope', '$http', '$rootScope'];\n\nfunction MainHeaderAngCtrl(Auth, $localStorage, $location, $scope, $http, $rootScope) {\n\n    console.log('************ Main HEADER CTRL **********');\n    $scope.logout = logout;\n    $scope.admin  = admin;\n\n    function logout() {\n        $http.defaults.headers.common['auth-token'] = $rootScope.currentUser.token;\n        Auth.logout();\n        $localStorage.currentUser = null;\n        $rootScope.currentUser    = null;\n        $location.path('/#/');\n    }\n\n    function admin() {\n        $location.path('/#/admin');\n    }\n}","angular.module('marketplace').controller('MonitorAngCtrl', MonitorAngCtrl);\n\nMonitorAngCtrl.$inject = ['Food', 'Recipe', '$scope', '$routeParams', '$q', '$http', '$location', '$localStorage', '$rootScope', 'parseRecipe'];\n\nfunction MonitorAngCtrl(Food, Recipe, $scope, $routeParams, $q, $http, $location, $localStorage, $rootScope, parseRecipe) {\n    console.log('MonitorAngCtrl');\n    \n    $scope.testPictureUrl     = testPictureUrl;\n    $scope.testTotalTime      = testTotalTime;\n    $scope.testServings       = testServings;\n    $scope.editRecipe         = editRecipe;\n    $scope.addIngredient      = addIngredient;\n    $scope.destroy            = destroy;\n    $scope.linkRecipe         = linkRecipe;\n    $scope.simulateQuery      = true;\n    $scope.names              = [];\n    $scope.querySearchAdd     = querySearchAdd;\n    $scope.querySearchUnitAdd = querySearchUnitAdd;\n    $scope.update             = update;\n    $scope.edit               = edit;\n    $scope.isDisabled         = true;\n    $scope.firstLoad          = [];\n    $scope.text               = text;\n    $scope.selected           = [];\n    $scope.loading            = true;\n\n    var parsed             = null;\n    parsed                 = parseRecipe ? parseRecipe : null;\n\n    if (parsed !== null) {\n        if (parsed.error) {\n            $scope.errorMessage = parsed.error;\n            $scope.loading = false;\n        } else {\n            $scope.parsed  = parsed.data;\n            getRecipe();\n            $scope.loading = false;\n        }\n    }\n\n    function displayErrorMessage(data, status) {\n        $scope.recipe  = {};\n        $scope.picture = '';\n        $scope.url     = '';\n        if (data) {\n            if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                $scope.errorMessage = \"error: \" + data + \" Disconnecting...\";\n                $localStorage.currentUser = null;\n                $rootScope.currentUser    = null;\n                $location.path('/#/');\n            } else {\n                $scope.errorMessage = \"error: \" + data;\n            }\n        } else {\n            $scope.errorMessage = 'An error occured: please reload the page!';\n        }\n    }\n\n    function endLoading() {\n        $scope.loading     = false;\n        $scope.selected    = [];\n        $scope.queryName   = '';\n        $scope.loadingSpin = false;\n    }\n\n    function setRecipe(result) {\n        if (result[0]) {\n            $scope.recipe  = result[0];\n            $scope.picture = result[0].picture;\n            $scope.url     = result[0].referer;\n        }\n    }\n\n    function getRecipe() {\n        // get recipe data\n        Recipe.get($routeParams.recipeId)\n        .then(setRecipe)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n\n    $scope.selectedItemChange= function() {\n        // clear input\n        $scope.searchTextName = '';\n        $scope.selectedItem   = undefined;\n    };\n\n    function testPictureUrl(urlPicture) {\n        var Http  = urlPicture.slice(0, 4);\n        if ('' === urlPicture) {\n            $scope.pictureError = null;\n        } else if (Http != 'http' && Http.length == 4) {\n            $scope.pictureError = 'Url must start with http or https';\n        } else {\n            // check if is image\n            isImage(urlPicture).then(function(success) {\n                if (true === success) {\n                    $scope.pictureError = null;\n                } else {\n                    $scope.pictureError = 'Must be an image url';\n                }\n            });\n        }\n    }\n\n    /**\n     * Total time must be an integer\n     */\n     function testTotalTime(totalTime) {\n        if (0 === totalTime.length || (!isNaN(totalTime) && parseInt(Number(totalTime)) == totalTime && !isNaN(parseInt(totalTime, 10)))) {\n            $scope.totalTimeError = null;\n        } else {\n            $scope.totalTimeError = 'Total time must be an integer';\n        }\n    }\n\n    /**\n     * Servings must be an integer\n     */\n     function testServings(servings) {\n        if (0 === servings.length || (!isNaN(servings) && parseInt(Number(servings)) == servings && !isNaN(parseInt(servings, 10)))) {\n            $scope.servingsError = null;\n        } else {\n            $scope.servingsError = 'Servings must be an integer';\n        }\n    }\n\n    function isImage(src) {\n        var deferred = $q.defer();\n\n        var image = new Image();\n        image.onerror = function() {\n            deferred.resolve(false);\n        };\n        image.onload = function() {\n            deferred.resolve(true);\n        };\n        image.src = src;\n\n        return deferred.promise;\n    }\n\n    function querySearchUnitAdd(query) {\n        var defer = $q.defer();\n        $http.post('/api/unit', {\n            name: query\n        })\n        .success(function(res) {\n            defer.resolve(res.unit);\n        });\n        return defer.promise;\n    }\n\n    function querySearchAdd(query) {\n        var defer        = $q.defer();\n        $scope.queryName = query;\n        $http.post('/api/ingredientrecipe', {\n            name: query\n        })\n        .success(function(res) {\n            defer.resolve(res.ingredient.data);\n        }).error(function(error) {\n            defer.reject(error);\n            if (error.message != 'Request Timeout after 6000ms') {\n                $scope.errorMessage = \"error: \" + \"Please enter a shorter string in your searchbox!\";\n            }\n        });\n\n        return defer.promise;\n    }\n\n    function linkRecipe() {\n        var parsedProblem = false;\n        // Using for here to break if parsedProblem is true\n        for (var i = 0; i < $scope.parsed.length; i++) {\n            if ($scope.parsed[i].name == \"No name\" || $scope.parsed[i].has_error == 1) {\n                parsedProblem = true;\n                break;\n            }\n        }\n        if (parsedProblem) {\n            swal('Cancel', \"You need to parse all items well\", 'error');\n            return;\n        } else {\n            $location.path('/linkrecipe/' + $routeParams.recipeId + '/');\n        }\n    }\n\n    $scope.clearValue = function() {\n        $scope.myModel = undefined;\n    };\n\n    $scope.save = function() {\n        var reviewed = [];\n        angular.forEach($scope.selected, function(value, key) {\n            if (value.id) {\n                reviewed.push({\n                    id: value.id\n                });\n            }\n        });\n        return $http.post('/api/recipe/reviewed', reviewed)\n        .success(function(res) {\n            parseResult();\n        });\n    };\n\n    $scope.isIndeterminate = function() {\n        if ($scope.selected) {\n            return ($scope.selected.length !== 0 &&\n                $scope.selected.length !== $scope.parsed.length);\n        }\n    };\n    $scope.isChecked = function() {\n        if ($scope.selected) {\n            return $scope.selected.length === $scope.parsed.length;\n        }\n    };\n    $scope.toggleAll = function() {\n        if ($scope.selected) {\n            if ($scope.selected.length === $scope.parsed.length) {\n                $scope.selected = [];\n            } else if ($scope.selected.length === 0 || $scope.selected.length > 0) {\n                $scope.selected = $scope.parsed.slice(0);\n            }\n        }\n    };\n\n    function setEdit(res) {\n        $scope.editSuccess = 'Updated';\n        $scope.picture     = recipe.picture;\n    }\n\n    function editRecipe() {\n        $scope.loadingSpin = true;\n        var recipe = {\n            name: $scope.recipe.name,\n            picture: $scope.recipe.picture,\n            total_time: $scope.recipe.total_time,\n            servings: $scope.recipe.servings\n        };\n        recipe.id = $routeParams.recipeId;\n        Recipe.editInfo(recipe)\n        .then(setEdit)\n        .catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n\n    function switchResSetUnit(unit) {\n        switch(unit) {\n            case '1':\n            return 'g';\n            case '2':\n            return 'mg';\n            case '3':\n            return 'mcg';\n            case '6':\n            return 'cup';\n            case '7':\n            return 'fluid once';\n            case '8':\n            return 'fl';\n            case '9':\n            return 'gal';\n            case '10':\n            return 'oz';\n            case '11':\n            return 'pt';\n            case '12':\n            return 'qt';\n            case '13':\n            return 'tbs';\n            case '14':\n            return 'tsp';\n            case '15':\n            return 'stick';\n            case '16':\n            return 'l';\n            case '17':\n            return 'ml';\n            case '18':\n            return 'dl';\n            case '19':\n            return 'lb';\n            case '20':\n            return 'kg';\n            case '21':\n            return 'dkg';\n            case '22':\n            return 'cl';\n        }\n    }\n\n    function pushParsed(res) {\n        var unit = switchResSetUnit(res.set.unit);\n        $scope.parsed.unshift({\n            id: res.data.id,\n            name: res.set.name,\n            unit: unit,\n            quantity: res.set.quantity,\n            ingredient_id: res.set.ingredient_id,\n            has_error: 0,\n            text: true,\n            is_reviewed: 'no'\n        });\n        $scope.add                   = {};\n        $scope.selectedItemChangeAdd = {};\n    }\n\n    function cancelPublish() {\n        $http.delete('/api/items/cancelpublish/' + $routeParams.recipeId)\n        .success(function(succ) {\n            swal('Added', \"This ingredient has been added\", 'success');\n        });\n    }\n\n    function clearInput() {\n        $scope.$broadcast('angucomplete-alt:clearInput');\n        $scope.selected  = [];\n        $scope.queryName = '';\n    }\n\n    function addIngredient(selectedItems, qty) {\n        $scope.loadingSpin = true;\n        var name = '';\n        if (!$scope.selected.description && $scope.queryName) {\n            name = $scope.queryName;\n        } else if ($scope.selected.description) {\n            var ingredient_id = $scope.selected.description.id;\n            name              = $scope.selected.description.name;\n        } else {\n            swal('Cancel', \"This ingredient has'nt been added because the name field of an ingredient is empty: please enter an ingredient\", 'error');\n            return;\n        }\n        if (qty === 0 || !qty) {\n            $scope.$broadcast('angucomplete-alt:clearInput');\n            $scope.selected  = [];\n            $scope.queryName = '';\n            swal('Cancel', \"This ingredient has'nt been added because the quantity field of an ingredient is empty or is equal of zero. Please add a positive quantity.\", 'error');\n            clearInput();\n            return;\n        }\n        var unit_id = null;\n        var unit    = null;\n        if (selectedItems) {\n            unit_id = selectedItems.unit;\n            unit    = selectedItems.unit;\n        }\n        var addIng = {\n            unit_id: unit_id,\n            name: name,\n            unit: unit,\n            quantity: qty ? qty: '0',\n            widget_item_id: $routeParams.recipeId,\n            has_error: 0\n        };\n        if (!addIng.ingredient_id) {\n            delete edit.ingredient_id;\n        }\n        if (!addIng.unit_id) {\n            delete edit.unit_id;\n        }\n        if (!addIng.name) {\n            delete edit.name;\n        }\n        if (!addIng.unit) {\n            delete edit.unit;\n        }\n        if (!addIng.quantity) {\n            delete edit.quantity;\n        }\n        $q.all({\n            set: $q.when(addIng),\n            data: Recipe.add(addIng)\n        }).then(pushParsed)\n        .then(cancelPublish)\n        .catch(displayErrorMessage)\n        .finally(clearInput);\n    }\n\n    function setUpdatedIngredients(res) {\n        var unit = switchResSetUnit(res.set.unit);\n        angular.forEach($scope.parsed, function(value, key) {\n            if (value.id == res.set.id) {\n                value.id   = res.set.id;\n                value.name = res.set.name;\n                if (unit) {\n                    value.unit          = unit;\n                }\n                if (value.is_reviewed == 1) {\n                    value.is_reviewed = 'yes';\n                }\n                if (value.is_reviewed === 0) {\n                    value.is_reviewed = 'no';\n                } \n                value.unit_id       = unit;\n                value.quantity      = res.set.quantity;\n                value.ingredient_id = res.set.ingredient_id,\n                value.has_error     = 0;\n                value.text          = true;\n            }\n        });\n    }\n\n\n    function update(unit, qty, id, index, nameField) {\n        $scope.loadingSpin = true;\n        Recipe.testIfIngredientLinked(id).then(function(res) {\n            var edit = {};\n            if ($scope.selected) {\n                var name = '';\n                if (!$scope.selected.description && $scope.queryName) {\n                    name = $scope.queryName;\n                    edit = {\n                        id: id,\n                        name: name,\n                        unit: unit,\n                        unit_id: unit,\n                        quantity: qty\n                    };\n                } else {\n                    name          = nameField;\n                    var ingredient_id = null;\n                    if ($scope.selected.description) {\n                        ingredient_id = $scope.selected.description.id;\n                        name          = $scope.selected.description.name;\n                    } else if ($scope.parsed[index].name !== 'No name') {\n                        edit.noNameChanged  = true;\n                    } else {\n                        swal('Cancel', \"This ingredient has'nt been edited because the name field of an ingredient is empty: please enter an ingredient\", 'error');\n                        return;\n                    }\n\n                    edit = {\n                        id: id,\n                        name: name,\n                        unit: unit,\n                        unit_id: unit,\n                        quantity: qty,\n                        ingredient_id: ingredient_id,\n                        noNameChanged: true ? !$scope.selected.description : false\n                    };\n                }\n                edit.has_error = 0;\n                if (!edit.ingredient_id) {\n                    delete edit.ingredient_id;\n                }\n                if (!edit.unit_id) {\n                    delete edit.unit_id;\n                }\n                if (!edit.unit) {\n                    delete edit.unit;\n                }\n                if (!edit.quantity) {\n                    delete edit.quantity;\n                }\n                if (res.length > 0) {\n                    swal({\n                      title: 'Are you sure?',\n                      text: \"This recipe is already linked to a retailer!\",\n                      type: 'warning',\n                      showCancelButton: true,\n                      confirmButtonColor: '#3085d6',\n                      cancelButtonColor: '#d33',\n                      confirmButtonText: 'Yes, edit it!',\n                      cancelButtonText: 'No, cancel!',\n                      confirmButtonClass: 'btn btn-success',\n                      cancelButtonClass: 'btn btn-danger',\n                      buttonsStyling: false\n                  }).then(function() {\n                    $q.all({\n                        set: $q.when(edit),\n                        data: Recipe.deleteAndEdit(edit)\n                    }).then(setUpdatedIngredients)\n                    .then(cancelPublish)\n                    .catch(displayErrorMessage)\n                    .finally(endLoading);\n                }, function(dismiss) {\n                    if (dismiss === 'cancel') {\n                        swal('Cancel', \"This ingredient has'nt been edited\", 'error');\n                    }\n                });\n              } else {\n                $q.all({\n                    set: $q.when(edit),\n                    data: Recipe.edit(edit)\n                })\n                .then(setUpdatedIngredients)\n                .catch(displayErrorMessage)\n                .finally(endLoading);\n            }\n        } else {\n            $scope.errorMessage = \"error: please refresh your page\";\n        }\n\n    }).catch(displayErrorMessage)\n        .finally(endLoading);\n    }\n\n\n    function edit(id) {\n        angular.forEach($scope.parsed, function(value, key) {\n            if (!value.unit) {\n                value.unit = 'No unit';\n            }\n            if (!value.name) {\n                value.name = 'No name';\n            }\n            if (value.is_reviewed == 1) {\n                value.is_reviewed = 'yes';\n            }\n            if (value.is_reviewed === 0) {\n                value.is_reviewed = 'no';\n            } \n            if (value.id == id) {\n                value.text = false;\n            } else {\n                value.text = true;\n            }\n        });\n    }\n\n    function text() {\n        $scope.loadingSpin = true;\n        angular.forEach($scope.parsed, function(value, key) {\n            if (!value.unit) {\n                value.unit = 'No unit';\n            }\n            if (!value.name) {\n                value.name = 'No name';\n            }\n            if (value.is_reviewed == 1) {\n                value.is_reviewed = 'yes';\n            }\n            if (value.is_reviewed === 0) {\n                value.is_reviewed = 'no';\n            }\n            value.text = true;\n        });\n    }\n\n    function checkIfRecipeIsTotallyLinked(res) {\n        var totallyLinked = true;\n        angular.forEach(res, function(value) {\n            if (!value.description) {\n                totallyLinked = false;\n            }\n        });\n        return totallyLinked;\n    }\n\n    Array.prototype.contains = function(v) {\n        for(var i = 0; i < this.length; i++) {\n            if(this[i] === v) return true;\n        }\n        return false;\n    };\n\n    Array.prototype.unique = function() {\n        var arr = [];\n        for(var i = 0; i < this.length; i++) {\n            if(!arr.contains(this[i])) {\n                arr.push(this[i]);\n            }\n        }\n        return arr; \n    };\n\n    function destroy(id, index) {\n        $scope.loadingSpin = true;\n        swal({\n          title: 'Are you sure?',\n          text: \"You won't be able to revert this!\",\n          type: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes, delete it!',\n          cancelButtonText: 'No, cancel!',\n          confirmButtonClass: 'btn btn-success',\n          cancelButtonClass: 'btn btn-danger',\n          buttonsStyling: false\n      }).then(function() {\n        Recipe.destroy({\n            id: id, \n            recipeId: $routeParams.recipeId\n        })\n        .then(function(res) {\n            console.log(res);\n            $scope.parsed.splice(index, 1);\n            if (res.retailers && res.retailers.length > 0) {\n                var linkedRetailerMessages = [];\n                angular.forEach(res.retailers, function(value, key){\n                    switch (value) {\n                        case 2:\n                        linkedRetailerMessages.push(\"Safeway is Linked!\");\n                        break;\n                        case 6:\n                        linkedRetailerMessages.push(\"Peapod is Linked!\");\n                        break;\n                        case 8:\n                        linkedRetailerMessages.push(\"Walmart is Linked!\");\n                        break;\n                        case 9:\n                        linkedRetailerMessages.push(\"Freshdirect is Linked!\");\n                        break;\n                        case 207:\n                        linkedRetailerMessages.push(\"Instacart is Linked!\");\n                        break;\n                        case 209:\n                        linkedRetailerMessages.push(\"Shipt is Linked!\");\n                        break;\n                    }\n\n                });\n                var uniques = linkedRetailerMessages.unique();\n                swal.setDefaults({\n                     confirmButtonText: 'Next &rarr;',\n                     showCancelButton: true,\n                     animation: true\n                 });\n                swal.queue(uniques).then(function() {\n                    swal({\n                       title: 'All done!',\n                       confirmButtonText: 'Lovely!',\n                       showCancelButton: false\n                    });\n                });\n            } else {\n                swal('Deleted!', 'This line has been deleted.', 'success');\n            }\n        }).catch(displayErrorMessage).finally(endLoading);\n\n    }, function(dismiss) {\n          // dismiss can be 'cancel', 'overlay', 'close', 'timer'\n          if (dismiss === 'cancel') {\n            swal(\n              'Cancelled',\n              'Your ingredient is safe :)',\n              'error'\n              );\n        }\n    });\n  }\n\n  $scope.itemSelected = function(selected) {\n    $scope.selected = selected;\n};\n}","angular.module('marketplace')\n    .controller('ParentAngCtrl', ParentAngCtrl)\n    .controller('PaginateController', PaginateController);\n\nParentAngCtrl.$inject = ['$scope', 'getParentFoods'];\n\nfunction ParentAngCtrl($scope, getParentFoods) {\n    \n    $scope.currentPage = 1;\n    $scope.pageSize    = 50;\n    $scope.loading     = true;\n    var foods          = getParentFoods;\n\n    if (foods !== null) {\n        if (foods.error) {\n            $scope.errorMessage = foods.error;\n        } else {\n            $scope.foods = foods.data.parent_foods;\n        }\n    }\n    $scope.loading = false;\n}\n\n\nfunction PaginateController($scope) {\n    $scope.pageChangeHandler = function(num) {\n\n    };\n}","angular.module('marketplace').controller('RecipeAngCtrl', RecipeAngCtrl);\nRecipeAngCtrl.$inject = ['Auth', '$rootScope', 'Recipe', '$scope', '$location', '$localStorage', '$q', '$timeout', 'getAllRecipes'];\n\nfunction RecipeAngCtrl(Auth, $rootScope, Recipe, $scope, $location, $localStorage, $q, $timeout, getAllRecipes) {\n    console.log('RecipeAngCtrl');\n    $scope.createRecipe   = createRecipe;\n    $scope.eraze          = eraze;\n    $scope.testPictureUrl = testPictureUrl;\n    $scope.testTotalTime  = testTotalTime;\n    $scope.testServings   = testServings;\n    $scope.testUrl        = testUrl;\n    $scope.recipes        = [];\n    $scope.loading        = false;\n    var recipes           = null;\n\n    recipes = getAllRecipes ? getAllRecipes : null;\n\n    if (recipes !== null) {\n        if (recipes.error) {\n            $scope.errorMessage = recipes.error;\n        } else {\n            $scope.recipes = recipes.data;\n        }\n    }\n    \n    function displayErrorMessage(data, status) {\n        if (data) {\n            if (data == \"Issue decoding incoming token.\" || data == 'Invalid token.') {\n                $scope.errorMessage = \"error: \" + data + \" Disconnecting...\";\n                Auth.logout();\n                $localStorage.currentUser = null;\n                $rootScope.currentUser    = null;\n                $location.path('/#/');\n            } else {\n                $scope.errorMessage = \"error: \" + data;\n            }\n        } else {\n            $scope.errorMessage = 'An error occured: please reload the page!';\n        }\n    }\n\n    function endLoading() {\n        $scope.loading = false;\n    }\n\n    if ($rootScope.currentUser) {\n        $scope.user = $rootScope.currentUser.firstName ? $rootScope.currentUser.firstName : $rootScope.currentUser.email;\n    }\n\n    function testUrl(url) {\n        var testHttp = url.slice(0, 4);\n        if (testHttp != 'http' && testHttp.length == 4) {\n            $scope.error = 'Url must start with http or https';\n        } else {\n            $scope.error = null;\n        }\n    }\n\n    function testPictureUrl(urlPicture) {\n        var Http = urlPicture.slice(0, 4);\n        if ('' === urlPicture) {\n            $scope.pictureError = null;\n        } else if (Http != 'http' && Http.length == 4) {\n            $scope.pictureError = 'Url must start with http or https';\n        } else {\n            // check if is image\n            isImage(urlPicture).then(function(success) {\n                if (true === success) {\n                    $scope.pictureError = null;\n                } else {\n                    $scope.pictureError = 'Must be an image url';\n                }\n            });\n        }\n    }\n    /**\n     * Total time must be an integer\n     */\n    function testTotalTime(totalTime) {\n        if (0 === totalTime.length || (!isNaN(totalTime) && parseInt(Number(totalTime)) == totalTime && !isNaN(parseInt(totalTime, 10)))) {\n            $scope.totalTimeError = null;\n        } else {\n            $scope.totalTimeError = 'Total time must be an integer';\n        }\n    }\n    /**\n     * Servings must be an integer\n     */\n    function testServings(servings) {\n        if (0 === servings.length || (!isNaN(servings) && parseInt(Number(servings)) == servings && !isNaN(parseInt(servings, 10)))) {\n            $scope.servingsError = null;\n        } else {\n            $scope.servingsError = 'Servings must be an integer';\n        }\n    }\n\n    function isImage(src) {\n        var deferred = $q.defer();\n        var image = new Image();\n        image.onerror = function() {\n            deferred.resolve(false);\n        };\n        image.onload = function() {\n            deferred.resolve(true);\n        };\n        image.src = src;\n        return deferred.promise;\n    }\n\n    function redirect(res) {\n        $location.path('/monitorrecipe/' + res.id + '/');\n    }\n\n    function createRecipe() {\n        $scope.loading = true;\n        Recipe.save($scope.recipe).then(redirect).catch(displayErrorMessage).finally(endLoading);\n    }\n\n    function eraze(id) {\n        swal({\n            title: 'Are you sure?',\n            text: \"You won't be able to revert this!\",\n            type: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Yes, delete it!',\n            cancelButtonText: 'No, cancel!',\n            confirmButtonClass: 'btn btn-success',\n            cancelButtonClass: 'btn btn-danger',\n            buttonsStyling: false\n        }).then(function() {\n            Recipe.eraze(id).then(function(res) {\n                getAllRecipes();\n                swal('Recipe deleted', 'All items that are linked to this recipe are deleted', 'warning');\n            }).catch(displayErrorMessage).finally(endLoading);\n        }, function(dismiss) {\n            // dismiss can be 'cancel', 'overlay', 'close', 'timer'\n            if (dismiss === 'cancel') {\n                swal('Cancelled', 'Your recipe is safe :)', 'error');\n            }\n        });\n    }\n}","angular.module('marketplace').directive('food', function () {\n    // return the directive definition object \n    return {\n        scope: true,\n        controller: function (Food, $scope, $routeParams) {\n            $scope.retrieve = retrieve;\n\n            function retrieve(parent, id) {\n                var remove = {\n                    item_id: id,\n                    parent_food_id: $routeParams.foodId\n                };\n                Food.retrieve(remove)\n                    .then(function() {\n                        $scope.foods.splice($scope.foods.indexOf(parent), 1);\n                        angular.forEach($scope.meals, function(value, key) {\n                            if (value.id == id) {\n                                value.added        = false;\n                                value.is_main_item = false;\n                            }\n                        });\n                    })\n                    .catch(function(data, status) {\n                        console.log('error', data, status);\n                        $scope.errorMessage = \"error: \" + data;\n                    })\n                    .finally(function () {\n                        console.log('finally finished');\n                    });\n            }\n        },\n        templateUrl: '/templates/food.tpl.html'\n    };\n\n});","angular.module('marketplace').directive('triggerChange', function ($sniffer) {\n    return {\n        link : function(scope, elem, attrs) {\n            elem.bind('click', function(){\n                $(attrs.triggerChange).trigger($sniffer.hasEvent('input') ? 'input' : 'change');\n            });\n        },\n        priority : 1\n    };\n});","angular.module('marketplace').directive('backImg', function () {\n    return function(scope, element, attrs){\n        attrs.$observe('backImg', function(value) {\n            element.css({\n                'background-image': 'url(' + value +')',\n                'background-size' : 'cover'\n            });\n        });\n    };\n});","angular.module('marketplace').directive('ingredient', function () {\n    // return the directive definition object \n    return {\n        scope: true,\n        controller: function (Alias, $scope, $routeParams) {\n            $scope.add = add;\n\n            function add(parent, id, _id) {\n                console.log('loading');\n                $scope.loading     = true;\n                $scope.loadingSpin = true;\n                var addAlias = {\n                    _id: _id,\n                    id: $routeParams.ingredientId,\n                    aliases: [id]\n                };\n                Alias.save(id, addAlias, $scope.aliases).then(function(res) {\n                    angular.forEach($scope.ingredients, function(value, key) {\n                        if (value._source.id == id) {\n                            value._source.added = true;\n                        }\n                    });\n                    $scope.aliases.push({\n                        id: id,\n                        name: parent.name\n                    });\n                }).catch(function(data, status) {\n                    console.log('error', data, status);\n                    $scope.errorMessage = \"error: \" + data;\n                })\n                .finally(function () {\n                    $scope.loading     = false;\n                    $scope.loadingSpin = false;\n                    console.log('finally finished');\n                });\n            }\n        },\n        templateUrl: '/templates/ingredient.tpl.html'\n    };\n\n});","angular.module('marketplace').directive('loading', function() {\n    return {\n        templateUrl: '/templates/loading.tpl.html'\n    };\n});","angular.module('marketplace').directive('loadingSpin', function() {\n    return {\n        templateUrl: '/templates/loadingSpin.tpl.html'\n    };\n});","angular.module('marketplace').directive('login', function() {\n      return {\n            templateUrl: '/templates/login.tpl.html'\n      };\n});","angular.module('marketplace').directive('meal', function () {\n    // return the directive definition object \n    return {\n        scope: true,\n        controller: function (Food, $scope, $routeParams) {\n            $scope.addMain = addMain;\n            $scope.add     = add;\n\n            function addMain(parent, id) {\n                var addFood = {\n                    item_id: id,\n                    parent_food_id: $routeParams.foodId,\n                    main_item: true\n                };\n                Food.save(id, addFood, $scope.foods).then(function() {\n                    angular.forEach($scope.meals, function(value, key) {\n                        if (value.id == id) {\n                            value.is_main_item = true;\n                            value.added        = true;\n                        }\n                    });\n                    angular.forEach($scope.foods, function(value, key) {\n                        if (value.is_main_item === true) {\n                            value.is_main_item = false;\n                        }\n                    });\n                    $scope.foods.push({\n                        id: id,\n                        name: parent.name,\n                        retailer: parent.retailer,\n                        is_main_item: true\n                    });\n                }).catch(function(data, status) {\n                    $scope.errorMessage = \"error: \" + data;\n                })\n                .finally(function () {\n                    console.log('finally finished');\n                });\n\n            }\n\n            function add(parent, id) {\n                var addFood = {\n                    item_id: id,\n                    parent_food_id: $routeParams.foodId\n                };\n                Food.save(id, addFood, $scope.foods).then(function(res) {\n                    angular.forEach($scope.meals, function(value, key) {\n                        if (value.id == id) {\n                            value.added = true;\n                        }\n                    });\n                    $scope.foods.push({\n                        id: id,\n                        name: parent.name,\n                        retailer: parent.retailer\n                    });\n                }).catch(function(data, status) {\n                    $scope.errorMessage = \"error: \" + data;\n                })\n                .finally(function () {\n                    console.log('finally finished');\n                });\n            }\n        },\n        templateUrl: '/templates/meal.tpl.html'\n    };\n\n});","angular.module('marketplace').directive('retailerMultipleselect', function() {\n    return {\n        restrict: 'E',\n        templateUrl: '/templates/dirMultipleSelect.tpl.html',\n        scope: {\n            model: '=',\n        }\n    };\n});","angular.module('marketplace').directive('order', function () {\n    // return the directive definition object \n    return {\n        scope: true,\n        controller: function (Food, $scope, $routeParams, $filter) {\n             $scope.orderItem       = orderItem;\n             $scope.orderFood       = orderFood;\n             \n            function orderItem(predicate) {\n                $scope.predicateMeal = predicate;\n                $scope.reverseMeal   = ($scope.predicateMeal === predicate) ? !$scope.reverseMeal : false;\n                $scope.meals         = orderBy($scope.meals, predicate, $scope.reverseMeal);\n            }\n\n            function orderFood(predicate) {\n                $scope.predicate = predicate;\n                $scope.reverse   = ($scope.predicate === predicate) ? !$scope.reverse : false;\n                $scope.foods     = orderBy($scope.foods, predicate, $scope.reverse);\n            }\n        },\n        templateUrl: '/templates/order.tpl.html'\n    };\n\n});\n","/**\n * dirPagination - AngularJS module for paginating (almost) anything.\n *\n *\n\n * Credits\n\n * =======\n\n *\n\n * Daniel Tabuenca: https://groups.google.com/d/msg/angular/an9QpzqIYiM/r8v-3W1X5vcJ\n\n * for the idea on how to dynamically invoke the ng-repeat directive.\n\n *\n\n * I borrowed a couple of lines and a few attribute names from the AngularUI Bootstrap project:\n\n * https://github.com/angular-ui/bootstrap/blob/master/src/pagination/pagination.js\n\n *\n\n * Copyright 2014 Michael Bromley <michael@michaelbromley.co.uk>\n\n */\n\n\n(function() {\n    /**\n     * Config\n     */\n    var moduleName = 'angularUtils.directives.dirPagination';\n    var DEFAULT_ID = '__default';\n\n    /**\n     * Module\n     */\n    var module;\n    try {\n        module = angular.module(moduleName);\n    } catch(err) {\n        // named module does not exist, so create one\n        module = angular.module(moduleName, []);\n    }\n\n    module\n        .directive('dirPaginate', ['$compile', '$parse', 'paginationService', dirPaginateDirective])\n        .directive('dirPaginateNoCompile', noCompileDirective)\n        .directive('dirPaginationControls', ['paginationService', 'paginationTemplate', dirPaginationControlsDirective])\n        .filter('itemsPerPage', ['paginationService', itemsPerPageFilter])\n        .service('paginationService', paginationService)\n        .provider('paginationTemplate', paginationTemplateProvider);\n\n    function dirPaginateDirective($compile, $parse, paginationService) {\n        return  {\n            terminal: true,\n            multiElement: true,\n            compile: dirPaginationCompileFn\n        };\n\n        function dirPaginationCompileFn(tElement, tAttrs){\n            var expression = tAttrs.dirPaginate;\n\n            // regex taken directly from https://github.com/angular/angular.js/blob/master/src/ng/directive/ngRepeat.js#L211\n            var match = expression.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/);\n            var filterPattern = /\\|\\s*itemsPerPage\\s*:[^|]*/;\n            if (match[2].match(filterPattern) === null) {\n                throw 'pagination directive: the \\'itemsPerPage\\' filter must be set.';\n            }\n            var itemsPerPageFilterRemoved = match[2].replace(filterPattern, '');\n            var collectionGetter = $parse(itemsPerPageFilterRemoved);\n            addNoCompileAttributes(tElement);\n            // If any value is specified for paginationId, we register the un-evaluated expression at this stage for the benefit of any\n            // dir-pagination-controls directives that may be looking for this ID.\n            var rawId = tAttrs.paginationId || DEFAULT_ID;\n            paginationService.registerInstance(rawId);\n            return function dirPaginationLinkFn(scope, element, attrs){\n                // Now that we have access to the `scope` we can interpolate any expression given in the paginationId attribute and\n                // potentially register a new ID if it evaluates to a different value than the rawId.\n                var paginationId = $parse(attrs.paginationId)(scope) || attrs.paginationId || DEFAULT_ID;\n                paginationService.registerInstance(paginationId);\n                var repeatExpression = getRepeatExpression(expression, paginationId);\n                addNgRepeatToElement(element, attrs, repeatExpression);\n                removeTemporaryAttributes(element);\n                var compiled =  $compile(element);\n                var currentPageGetter = makeCurrentPageGetterFn(scope, attrs, paginationId);\n                paginationService.setCurrentPageParser(paginationId, currentPageGetter, scope);\n                if (typeof attrs.totalItems !== 'undefined') {\n                    paginationService.setAsyncModeTrue(paginationId);\n                    scope.$watch(function() {\n                        return $parse(attrs.totalItems)(scope);\n                    }, function (result) {\n                        if (0 <= result) {\n                            paginationService.setCollectionLength(paginationId, result);\n                        }\n                    });\n                } else {\n                    scope.$watchCollection(function() {\n                        return collectionGetter(scope);\n                    }, function(collection) {\n                        if (collection) {\n                            paginationService.setCollectionLength(paginationId, collection.length);\n                        }\n                    });\n                }\n                // Delegate to the link function returned by the new compilation of the ng-repeat\n                compiled(scope);\n            };\n        }\n        /**\n         * If a pagination id has been specified, we need to check that it is present as the second argument passed to\n         * the itemsPerPage filter. If it is not there, we add it and return the modified expression.\n         *\n         * @param expression\n         * @param paginationId\n         * @returns {*}\n         */\n        function getRepeatExpression(expression, paginationId) {\n            var repeatExpression,\n                idDefinedInFilter = !!expression.match(/(\\|\\s*itemsPerPage\\s*:[^|]*:[^|]*)/);\n            if (paginationId !== DEFAULT_ID && !idDefinedInFilter) {\n                repeatExpression = expression.replace(/(\\|\\s*itemsPerPage\\s*:[^|]*)/, \"$1 : '\" + paginationId + \"'\");\n            } else {\n                repeatExpression = expression;\n            }\n            return repeatExpression;\n        }\n        /**\n         * Adds the ng-repeat directive to the element. In the case of multi-element (-start, -end) it adds the\n         * appropriate multi-element ng-repeat to the first and last element in the range.\n         * @param element\n         * @param attrs\n         * @param repeatExpression\n         */\n        function addNgRepeatToElement(element, attrs, repeatExpression) {\n            if (element[0].hasAttribute('dir-paginate-start') || element[0].hasAttribute('data-dir-paginate-start')) {\n                // using multiElement mode (dir-paginate-start, dir-paginate-end)\n                attrs.$set('ngRepeatStart', repeatExpression);\n                element.eq(element.length - 1).attr('ng-repeat-end', true);\n            } else {\n                attrs.$set('ngRepeat', repeatExpression);\n            }\n        }\n\n        /**\n         * Adds the dir-paginate-no-compile directive to each element in the tElement range.\n         * @param tElement\n         */\n        function addNoCompileAttributes(tElement) {\n            angular.forEach(tElement, function(el) {\n                if (el.nodeType === Node.ELEMENT_NODE) {\n                    angular.element(el).attr('dir-paginate-no-compile', true);\n                }\n            });\n        }\n\n        /**\n         * Removes the variations on dir-paginate (data-, -start, -end) and the dir-paginate-no-compile directives.\n         * @param element\n         */\n        function removeTemporaryAttributes(element) {\n            angular.forEach(element, function(el) {\n                if (el.nodeType === Node.ELEMENT_NODE) {\n                    angular.element(el).removeAttr('dir-paginate-no-compile');\n                }\n            });\n            element.eq(0).removeAttr('dir-paginate-start').removeAttr('dir-paginate').removeAttr('data-dir-paginate-start').removeAttr('data-dir-paginate');\n            element.eq(element.length - 1).removeAttr('dir-paginate-end').removeAttr('data-dir-paginate-end');\n        }\n        /**\n         * Creates a getter function for the current-page attribute, using the expression provided or a default value if\n         * no current-page expression was specified.\n         *\n         * @param scope\n         * @param attrs\n         * @param paginationId\n         * @returns {*}\n         */\n        function makeCurrentPageGetterFn(scope, attrs, paginationId) {\n            var currentPageGetter;\n            if (attrs.currentPage) {\n                currentPageGetter = $parse(attrs.currentPage);\n            } else {\n                // if the current-page attribute was not set, we'll make our own\n                var defaultCurrentPage = paginationId + '__currentPage';\n                scope[defaultCurrentPage] = 1;\n                currentPageGetter = $parse(defaultCurrentPage);\n            }\n            return currentPageGetter;\n        }\n    }\n\n    function noCompileDirective() {\n        return {\n            priority: 5000,\n            terminal: true\n        };\n    }\n\n\n    function dirPaginationControlsDirective(paginationService, paginationTemplate) {\n\n\n        var numberRegex = /^\\d+$/;\n\n\n        return {\n\n            restrict: 'AE',\n\n            templateUrl: function(elem, attrs) {\n\n                return attrs.templateUrl || paginationTemplate.getPath();\n\n            },\n\n            scope: {\n\n                maxSize: '=?',\n\n                onPageChange: '&?',\n\n                paginationId: '=?'\n\n            },\n\n            link: dirPaginationControlsLinkFn\n\n        };\n\n\n        function dirPaginationControlsLinkFn(scope, element, attrs) {\n\n\n            // rawId is the un-interpolated value of the pagination-id attribute. This is only important when the corresponding dir-paginate directive has\n\n            // not yet been linked (e.g. if it is inside an ng-if block), and in that case it prevents this controls directive from assuming that there is\n\n            // no corresponding dir-paginate directive and wrongly throwing an exception.\n\n            var rawId = attrs.paginationId ||  DEFAULT_ID;\n\n            var paginationId = scope.paginationId || attrs.paginationId ||  DEFAULT_ID;\n\n\n            if (!paginationService.isRegistered(paginationId) && !paginationService.isRegistered(rawId)) {\n\n                var idMessage = (paginationId !== DEFAULT_ID) ? ' (id: ' + paginationId + ') ' : ' ';\n\n                throw 'pagination directive: the pagination controls' + idMessage + 'cannot be used without the corresponding pagination directive.';\n\n            }\n\n\n            if (!scope.maxSize) { scope.maxSize = 9; }\n\n            scope.directionLinks = angular.isDefined(attrs.directionLinks) ? scope.$parent.$eval(attrs.directionLinks) : true;\n\n            scope.boundaryLinks = angular.isDefined(attrs.boundaryLinks) ? scope.$parent.$eval(attrs.boundaryLinks) : false;\n\n\n            var paginationRange = Math.max(scope.maxSize, 5);\n\n            scope.pages = [];\n\n            scope.pagination = {\n\n                last: 1,\n\n                current: 1\n\n            };\n\n            scope.range = {\n\n                lower: 1,\n\n                upper: 1,\n\n                total: 1\n\n            };\n\n\n            scope.$watch(function() {\n\n                return (paginationService.getCollectionLength(paginationId) + 1) * paginationService.getItemsPerPage(paginationId);\n\n            }, function(length) {\n\n                if (0 < length) {\n\n                    generatePagination();\n\n                }\n\n            });\n\n\n            scope.$watch(function() {\n\n                return (paginationService.getItemsPerPage(paginationId));\n\n            }, function(current, previous) {\n\n                if (current != previous && typeof previous !== 'undefined') {\n\n                    goToPage(scope.pagination.current);\n\n                }\n\n            });\n\n\n            scope.$watch(function() {\n\n                return paginationService.getCurrentPage(paginationId);\n\n            }, function(currentPage, previousPage) {\n\n                if (currentPage != previousPage) {\n\n                    goToPage(currentPage);\n\n                }\n\n            });\n\n\n            scope.setCurrent = function(num) {\n\n                if (isValidPageNumber(num)) {\n\n                    num = parseInt(num, 10);\n\n                    paginationService.setCurrentPage(paginationId, num);\n\n                }\n\n            };\n\n\n            function goToPage(num) {\n\n                if (isValidPageNumber(num)) {\n\n                    scope.pages = generatePagesArray(num, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n\n                    scope.pagination.current = num;\n\n                    updateRangeValues();\n\n\n                    // if a callback has been set, then call it with the page number as an argument\n\n                    if (scope.onPageChange) {\n\n                        scope.onPageChange({ newPageNumber : num });\n\n                    }\n\n                }\n\n            }\n\n\n            function generatePagination() {\n\n                var page = parseInt(paginationService.getCurrentPage(paginationId)) || 1;\n\n\n                scope.pages = generatePagesArray(page, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n\n                scope.pagination.current = page;\n\n                scope.pagination.last = scope.pages[scope.pages.length - 1];\n\n                if (scope.pagination.last < scope.pagination.current) {\n\n                    scope.setCurrent(scope.pagination.last);\n\n                } else {\n\n                    updateRangeValues();\n\n                }\n\n            }\n\n\n            /**\n\n             * This function updates the values (lower, upper, total) of the `scope.range` object, which can be used in the pagination\n\n             * template to display the current page range, e.g. \"showing 21 - 40 of 144 results\";\n\n             */\n\n            function updateRangeValues() {\n\n                var currentPage = paginationService.getCurrentPage(paginationId),\n\n                    itemsPerPage = paginationService.getItemsPerPage(paginationId),\n\n                    totalItems = paginationService.getCollectionLength(paginationId);\n\n\n                scope.range.lower = (currentPage - 1) * itemsPerPage + 1;\n\n                scope.range.upper = Math.min(currentPage * itemsPerPage, totalItems);\n\n                scope.range.total = totalItems;\n\n            }\n\n\n            function isValidPageNumber(num) {\n                return (numberRegex.test(num) && (0 < num && num <= scope.pagination.last));\n            }\n        }\n\n\n        /**\n         * Generate an array of page numbers (or the '...' string) which is used in an ng-repeat to generate the\n         * links used in pagination\n         *\n         * @param currentPage\n         * @param rowsPerPage\n         * @param paginationRange\n         * @param collectionLength\n         * @returns {Array}\n\n         */\n\n        function generatePagesArray(currentPage, collectionLength, rowsPerPage, paginationRange) {\n            var pages = [];\n            var totalPages = Math.ceil(collectionLength / rowsPerPage);\n            var halfWay = Math.ceil(paginationRange / 2);\n            var position;\n            if (currentPage <= halfWay) {\n                position = 'start';\n            } else if (totalPages - halfWay < currentPage) {\n                position = 'end';\n            } else {\n                position = 'middle';\n            }\n\n            var ellipsesNeeded = paginationRange < totalPages;\n            var i = 1;\n            while (i <= totalPages && i <= paginationRange) {\n                var pageNumber = calculatePageNumber(i, currentPage, paginationRange, totalPages);\n                var openingEllipsesNeeded = (i === 2 && (position === 'middle' || position === 'end'));\n                var closingEllipsesNeeded = (i === paginationRange - 1 && (position === 'middle' || position === 'start'));\n                if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\n                    pages.push('...');\n                } else {\n                    pages.push(pageNumber);\n                }\n                i ++;\n            }\n            return pages;\n        }\n\n\n        /**\n         * Given the position in the sequence of pagination links [i], figure out what page number corresponds to that position.\n         *\n\n         * @param i\n\n         * @param currentPage\n\n         * @param paginationRange\n\n         * @param totalPages\n\n         * @returns {*}\n\n         */\n\n        function calculatePageNumber(i, currentPage, paginationRange, totalPages) {\n            var halfWay = Math.ceil(paginationRange/2);\n            if (i === paginationRange) {\n                return totalPages;\n            } else if (i === 1) {\n                return i;\n            } else if (paginationRange < totalPages) {\n                if (totalPages - halfWay < currentPage) {\n                    return totalPages - paginationRange + i;\n                } else if (halfWay < currentPage) {\n                    return currentPage - halfWay + i;\n                } else {\n                    return i;\n                }\n            } else {\n                return i;\n            }\n        }\n    }\n\n\n    /**\n\n     * This filter slices the collection into pages based on the current page number and number of items per page.\n\n     * @param paginationService\n\n     * @returns {Function}\n\n     */\n\n    function itemsPerPageFilter(paginationService) {\n        return function(collection, itemsPerPage, paginationId) {\n            if (typeof (paginationId) === 'undefined') {\n                paginationId = DEFAULT_ID;\n            }\n            if (!paginationService.isRegistered(paginationId)) {\n                throw 'pagination directive: the itemsPerPage id argument (id: ' + paginationId + ') does not match a registered pagination-id.';\n            }\n            var end;\n            var start;\n            if (collection instanceof Array) {\n                itemsPerPage = parseInt(itemsPerPage) || 9999999999;\n                if (paginationService.isAsyncMode(paginationId)) {\n                    start = 0;\n                } else {\n                    start = (paginationService.getCurrentPage(paginationId) - 1) * itemsPerPage;\n                }\n                end = start + itemsPerPage;\n                paginationService.setItemsPerPage(paginationId, itemsPerPage);\n                return collection.slice(start, end);\n            } else {\n                return collection;\n            }\n        };\n    }\n\n\n    /**\n     * This service allows the various parts of the module to communicate and stay in sync.\n     */\n    function paginationService() {\n        var instances = {};\n        var lastRegisteredInstance;\n        this.registerInstance = function(instanceId) {\n            if (typeof instances[instanceId] === 'undefined') {\n                instances[instanceId] = {\n                    asyncMode: false\n                };\n                lastRegisteredInstance = instanceId;\n            }\n        };\n\n\n        this.isRegistered = function(instanceId) {\n\n            return (typeof instances[instanceId] !== 'undefined');\n\n        };\n\n\n        this.getLastInstanceId = function() {\n\n            return lastRegisteredInstance;\n\n        };\n\n\n        this.setCurrentPageParser = function(instanceId, val, scope) {\n\n            instances[instanceId].currentPageParser = val;\n\n            instances[instanceId].context = scope;\n\n        };\n\n        this.setCurrentPage = function(instanceId, val) {\n\n            instances[instanceId].currentPageParser.assign(instances[instanceId].context, val);\n\n        };\n\n        this.getCurrentPage = function(instanceId) {\n\n            var parser = instances[instanceId].currentPageParser;\n\n            return parser ? parser(instances[instanceId].context) : 1;\n\n        };\n\n\n        this.setItemsPerPage = function(instanceId, val) {\n\n            instances[instanceId].itemsPerPage = val;\n\n        };\n\n        this.getItemsPerPage = function(instanceId) {\n\n            return instances[instanceId].itemsPerPage;\n\n        };\n\n\n        this.setCollectionLength = function(instanceId, val) {\n\n            instances[instanceId].collectionLength = val;\n\n        };\n\n        this.getCollectionLength = function(instanceId) {\n\n            return instances[instanceId].collectionLength;\n\n        };\n\n\n        this.setAsyncModeTrue = function(instanceId) {\n\n            instances[instanceId].asyncMode = true;\n\n        };\n\n\n        this.isAsyncMode = function(instanceId) {\n\n            return instances[instanceId].asyncMode;\n\n        };\n\n    }\n\n\n    /**\n\n     * This provider allows global configuration of the template path used by the dir-pagination-controls directive.\n\n     */\n\n    function paginationTemplateProvider() {\n        var templatePath = '/templates/dirPagination.tpl.html';\n        this.setPath = function(path) {\n            templatePath = path;\n        };\n\n        this.$get = function() {\n            return {\n                getPath: function() {\n                    return templatePath;\n                }\n            };\n        };\n    }\n})();","angular.module('marketplace').directive('myParent', function () {\n    return {\n        restrict:'E',\n        scope:{\n            delete: '&',\n            foods: '='\n        },\n        link:function (scope, element, attrs) {\n            var $el = $(element);\n\n            $el.hide().fadeIn('slow');\n\n            $('.thumbnails').sortable({\n                placeholder:\"ui-state-highlight\", forcePlaceholderSize:true\n            });\n        }\n    };\n});","angular.module('marketplace').directive('myParents', function () {\n    return {\n        restrict:\"E\",\n        scope:{\n            parentfoods:'=',\n            ondelete:'&'\n        },\n        templateUrl:'/templates/parent-directive.html',\n        controller:function ($scope, $attrs) {\n            $scope.deleteFood = function (id) {\n                $scope.ondelete({id:id});\n            }\n        }\n    };\n});","angular.module('marketplace').directive('parse', function () {\n    // return the directive definition object \n    return {\n        scope: true,\n        controller: function (Recipe, $scope, $routeParams, $q, $http, $window, $rootScope) {\n             // $scope.querySearchName = querySearchName;\n             // $scope.querySearchUnit = querySearchUnit;\n\n\n\n\n            // function querySearchName(query) {\n            //     var defer = $q.defer();\n            //     $http.post('/api/ingredientrecipe', {\n            //             name: query\n            //         })\n            //         .success(function(res) {\n            //             defer.resolve(res.ingredient);\n            //         });\n            //     return defer.promise;\n            // }\n\n            // function querySearchUnit(query) {\n            //     var defer = $q.defer();\n            //     $http.post('/api/unit', {\n            //             name: query\n            //         })\n            //         .success(function(res) {\n            //             defer.resolve(res.unit);\n            //         });\n            //     return defer.promise;\n            // }\n\n            // $scope.toggle = function(item, list) {\n            //     var idx = list.indexOf(item);\n            //     if (idx > -1) {\n            //         list.splice(idx, 1);\n            //     } else {\n            //         list.push(item);\n            //     }\n            // };\n            // $scope.exists = function(item, list) {\n            //     return list.indexOf(item) > -1;\n            // };\n        },\n        templateUrl: '/templates/parse.tpl.html'\n    };\n});","angular.module('marketplace').directive('ngRetailer', function ($q, $http) {\n    return {\n        scope: {\n            retailer: '=',\n            id: '='\n        },\n        templateUrl: '/templates/retailer.tpl.html',\n        link: function(scope, element, attrs) {\n            \n            scope.editMain = editMain;\n            scope.text     = text;\n            \n            scope.querySearchAdd = querySearchAdd;\n\n            function querySearchAdd(query) {\n                var retailerName = null;\n                switch (scope.id) {\n                    case 2:\n                    retailerName = 'safeway';\n                    break;\n                    case 6:\n                    retailerName = 'peapod';\n                    break;\n                    case 8:\n                    retailerName = 'walmart';\n                    break;\n                    case 9:\n                    retailerName = 'freshdirect';\n                    break;\n                    case 207:\n                    retailerName = 'instacart';\n                    break;\n                    case 209:\n                    retailerName = 'shipt';\n                    break;\n                }\n                var defer = $q.defer();\n                $http.post('/api/items/' + retailerName, {\n                    name: query\n                })\n                .success(function(res) {\n                    scope.errorMessage = null;\n                    defer.resolve(res.item);\n                }).error(function(error) {\n                    defer.reject(error);\n                    if (error.displayName !== \"RequestTimeout\") {\n                        scope.errorMessage = \"error: \" + \"Please enter a shorter string in your searchbox!\";\n                    }\n                });\n                return defer.promise;\n            }\n\n            scope.editL = function(item, qty, retailerId) {\n                console.log(item);\n                console.log(qty);\n                console.log(retailerId);\n                console.log(scope.retailer);\n                console.log(item);\n                var editLink                       = {};\n                editLink.id                        = scope.retailer.id;\n                editLink.widget_item_ingredient_id = scope.retailer._id;\n                editLink.retailer_id               = retailerId;\n                editLink.item_id                   = item;\n                if (qty) {\n                    editLink.quantity = qty;\n                }\n                editLink.unit_id = null;\n                $http.post('/api/items/editLink', editLink).success(function(res) {\n                    swal('Linking!', 'The link has been edited', 'success');\n                });\n            };\n\n            function editMain() {\n                scope.input = true;\n            }\n\n            function text() {\n                scope.input = false;\n            }\n        }\n    };\n\n});","angular.module('marketplace').directive('retailerSelect', function() {\n    return {\n        restrict: 'E',\n        templateUrl: '/templates/dirSelect.tpl.html',\n        scope: {\n            model: '=',\n        }\n    };\n});","angular.module('marketplace').factory('Alias', Alias);\n\nAlias.$inject = ['$location', '$rootScope', '$http', '$q'];\n\nfunction Alias($location, $rootScope, $http, $q) {\n\n    if ($rootScope.currentUser) {\n        $http.defaults.headers.common['auth-token'] = $rootScope.currentUser.token;\n    }\n\n    var Alias = {\n        get: get,\n        save: save,\n        retrieve: retrieve,\n        search: search\n    };\n\n    return Alias;\n\n    function search(ingredient) {\n        var deferred = $q.defer();\n        $http.post('/api/ingredient', {\n            name: ingredient\n        })\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function get(id) {\n        var deferred = $q.defer();\n        $http.get('/api/ingredient/get/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function save(id, add, aliases) {\n        var deferred = $q.defer();\n        var found = false;\n        for (var i = 0; i < aliases.length; i++) {\n            if (aliases[i].id == id) {\n                found = true;\n                break;\n            }\n        }\n        if (found === false) {\n            $http.post('/api/ingredient/addAliases', add)\n            .success(deferred.resolve)\n            .error(deferred.reject);\n            return deferred.promise;\n        }\n    }\n\n    function retrieve(remove) {\n        var deferred = $q.defer();\n        $http.post('/api/ingredient/removeAliases', remove)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n}","angular.module('marketplace').factory('Auth', Auth);\n\nAuth.$inject = ['$location', '$localStorage', '$rootScope', '$http', '$q'];\n\nfunction Auth($location, $localStorage, $rootScope, $http, $q) {\n\n    var Auth = {\n        login: login,\n        logout: logout,\n        status: status\n    };\n\n    return Auth;\n\n    function login(user) {\n        return $http({\n            url: \"/api/user/login/\",\n            method: \"post\",\n            xhrFields: {\n                withCredentials: true\n            },\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': '*/*',\n                'Content-Transfer-Encoding': 'utf-8'\n            },\n            transformRequest: function(obj) {\n                var str = [];\n                for (var p in obj)\n                    str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n                var foo = str.join(\"&\");\n                return foo;\n            },\n            data: user\n        }).success(function(user) {\n            $localStorage.currentUser = user;\n            swal('Authentification réussie', '', 'success');\n            $location.path('/#/recipes');\n        }).error(function(response) {\n            console.log(response);\n            swal('Fail to log in', 'Try again', 'warning');       \n            $location.path('/#/');\n        });\n    }\n\n    function status() {\n        var deferred = $q.defer();\n        $http.post('/api/user/status')\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function logout() {\n        console.log('logout');\n        $http.delete('/api/user/logout/').success(function(data) {\n            if (data) {\n                if ($localStorage.currentUser && $rootScope.currentUser) {\n                    $localStorage.currentUser = null;\n                    $rootScope.currentUser    = null;\n                    $location.path('/');\n                }\n            }\n        }).error(function() {\n            console.log('error');\n        });\n    }\n}","angular.module('marketplace').factory('Delay', Delay);\n\nDelay.$inject = ['$q', '$timeout'];\n\nfunction Delay($q, $timeout) {\n\n    var Delay = {\n        start: start\n    };\n\n    return Delay;\n\n    function start() {\n        var deferred = $q.defer();\n        $timeout(deferred.resolve, 100);\n        return deferred.promise;\n    }\n}","angular.module('marketplace').factory('Food', Food);\n\nFood.$inject = ['$rootScope', '$http', '$q'];\n\nfunction Food($rootScope, $http, $q) {\n\n    if ($rootScope.currentUser) {\n        $http.defaults.headers.common['auth-token'] = $rootScope.currentUser.token;\n    }\n\n    var Food = {\n        find: find,\n        save: save,\n        retrieve: retrieve,\n        update: update,\n        listRetailers: listRetailers,\n        seeIfRetailerIsLinked: seeIfRetailerIsLinked,\n        seeIfAllRetailersAreLinked: seeIfAllRetailersAreLinked,\n        findName: findName,\n        editMain: editMain\n    };\n\n    return Food;\n\n    function seeIfRetailerIsLinked(recipeId, retailerId) {\n        var deferred = $q.defer();\n        var data = {\n            recipeId: recipeId,\n            retailerId: retailerId\n        };\n        $http.post('/api/retailer/linked/', data)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function seeIfAllRetailersAreLinked(recipeId) {\n        console.log('seeIfRetailerIsLinked');\n        var deferred = $q.defer();\n        var data = {\n            recipeId: recipeId,\n        };\n        $http.post('/api/retailer/allLinked/', data)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n\n    function retrieve(remove) {\n        var deferred = $q.defer();\n        $http.post('/api/parentfood/removeItem', remove)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n\n    function editMain(body) {\n        var deferred = $q.defer();\n        $http.post('/api/parentfood/editMain', body)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function save(id, add, foods) {\n        var found = false;\n        for (var i = 0; i < foods.length; i++) {\n            if (foods[i].id == id) {\n                found = true;\n                break;\n            }\n        }\n        if (found === false) {\n            var deferred = $q.defer();\n            $http.post('/api/parentfood/addItem', add)\n            .success(deferred.resolve)\n            .error(deferred.reject);\n            return deferred.promise;\n        }\n    }\n\n    function find(food) {\n        var deferred = $q.defer();\n        $http.post('/api/searchfood/', food)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function findName(id) {\n        var deferred = $q.defer();\n        $http.get('/api/findname/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function update(id) {\n        var deferred = $q.defer();\n        $http.get('/api/parentfood/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function listRetailers() {\n        var deferred = $q.defer();\n        $http.get('/api/retailer/list')\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n}","angular.module('marketplace').factory('Recipe', Recipe);\n\nRecipe.$inject = ['$rootScope', '$http', '$q'];\n\nfunction Recipe($rootScope, $http, $q) {\n\n    if ($rootScope.currentUser) {\n        $http.defaults.headers.common['auth-token'] = $rootScope.currentUser.token;\n    }\n\n    var Recipe = {\n        save: save,\n        get: get,\n        getAll: getAll,\n        parse: parse,\n        add: add,\n        destroy:destroy,\n        edit: edit,\n        editInfo: editInfo,\n        eraze: eraze,\n        testIfIngredientLinked: testIfIngredientLinked,\n        deleteAndEdit: deleteAndEdit,\n        ingredientSave: ingredientSave\n    };\n\n    return Recipe;\n\n    function testIfIngredientLinked(id) {\n        var deferred = $q.defer();\n        $http.get('/api/recipe/testLinked/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n\n    function eraze(id) {\n        var deferred = $q.defer();\n        $http.delete('/api/recipe/eraze/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function destroy(recipe) {\n        var deferred = $q.defer();\n        $http.post('/api/recipe/destroy/', recipe)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function edit(recipe) {\n        var deferred = $q.defer();\n        $http.post('/api/recipe/edit', recipe)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function ingredientSave(ingredient) {\n        var deferred = $q.defer();\n        $http.post('/api/recipe/ingredientsave', ingredient)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function editInfo(recipe) {\n        var deferred = $q.defer();\n        $http.post('/api/recipe/editinfo', recipe)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function deleteAndEdit(recipe) {\n        var deferred = $q.defer();\n        $http.post('/api/recipe/deleteandedit', recipe)\n        .success(deferred.resolve).error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function add(recipe) {\n        var deferred = $q.defer();\n        $http.post('/api/recipe/add', recipe)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function save(recipe) {\n        var deferred = $q.defer();\n        $http.post('/api/recipe/create', recipe)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function get(id) {\n        var deferred = $q.defer();\n        $http.get('/api/recipe/get/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function getAll(id) {\n        var deferred = $q.defer();\n        $http.get('/api/recipe/getall/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n\n    function parse(id) {\n        var deferred = $q.defer();\n        $http.get('/api/recipe/parse/' + id)\n        .success(deferred.resolve)\n        .error(deferred.reject);\n        return deferred.promise;\n    }\n}","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Sweetalert2=t()}(this,function(){\"use strict\";function e(){if(void 0===arguments[0])return console.error(\"SweetAlert2 expects at least 1 attribute!\"),!1;var e=c({},H);switch(typeof arguments[0]){case\"string\":e.title=arguments[0],e.text=arguments[1]||\"\",e.type=arguments[2]||\"\";break;case\"object\":c(e,arguments[0]),e.extraParams=arguments[0].extraParams,\"email\"===e.input&&null===e.inputValidator&&(e.inputValidator=function(e){return new Promise(function(t,n){var o=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;o.test(e)?t():n(\"Invalid email address\")})});break;default:return console.error('SweetAlert2: Unexpected type of argument! Expected \"string\" or \"object\", got '+typeof arguments[0]),!1}N(e);var o=f();return new Promise(function(r,a){function l(e,t){for(var n=0;n<V.length;n++)if(e+=t,e===V.length?e=0:-1===e&&(e=V.length-1),V[e].offsetWidth||V[e].offsetHeight||V[e].getClientRects().length)return void V[e].focus()}function c(n){var o=n||window.event,i=o.keyCode||o.which;if(-1!==[9,13,32,27].indexOf(i)){for(var r=o.target||o.srcElement,c=-1,s=0;s<V.length;s++)if(r===V[s]){c=s;break}9===i?(o.shiftKey?l(c,-1):l(c,1),T(o)):13===i||32===i?-1===c&&P(M,o):27===i&&e.allowEscapeKey===!0&&(t.closeModal(e.onClose),a(\"esc\"))}}e.timer&&(o.timeout=setTimeout(function(){t.closeModal(e.onClose),a(\"timer\")},e.timer));var u=function(){switch(e.input){case\"select\":return k(o,i.select);case\"radio\":return o.querySelector(\".\"+i.radio+\" input:checked\")||o.querySelector(\".\"+i.radio+\" input:first-child\");case\"checkbox\":return o.querySelector(\"#\"+i.checkbox);case\"textarea\":return k(o,i.textarea);default:return k(o,i.input)}},p=function(){var t=u();switch(e.input){case\"checkbox\":return t.checked?1:0;case\"radio\":return t.checked?t.value:null;case\"file\":return t.files.length?t.files[0]:null;default:return e.inputAutoTrim?t.value.trim():t.value}};e.input&&setTimeout(function(){var e=u();e&&g(e)},0);var f,A=function(n){e.showLoaderOnConfirm&&t.showLoading(),e.preConfirm?e.preConfirm(n,e.extraParams).then(function(o){t.closeModal(e.onClose),r(o||n)},function(e){t.hideLoading(),e&&t.showValidationError(e)}):(t.closeModal(e.onClose),r(n))},L=function(n){var i=n||window.event,r=i.target||i.srcElement,l=v(),c=y(),u=l===r||l.contains(r),d=c===r||c.contains(r),f=b(o,\"visible\");switch(i.type){case\"mouseover\":case\"mouseup\":e.buttonsStyling&&(u?l.style.backgroundColor=s(e.confirmButtonColor,-.1):d&&(c.style.backgroundColor=s(e.cancelButtonColor,-.1)));break;case\"mouseout\":e.buttonsStyling&&(u?l.style.backgroundColor=e.confirmButtonColor:d&&(c.style.backgroundColor=e.cancelButtonColor));break;case\"mousedown\":e.buttonsStyling&&(u?l.style.backgroundColor=s(e.confirmButtonColor,-.2):d&&(c.style.backgroundColor=s(e.cancelButtonColor,-.2)));break;case\"click\":if(u&&f)if(e.input){var m=p();e.inputValidator?(t.disableInput(),e.inputValidator(m,e.extraParams).then(function(){t.enableInput(),A(m)},function(e){t.enableInput(),e&&t.showValidationError(e)})):A(m)}else A(!0);else d&&f&&(t.closeModal(e.onClose),a(\"cancel\"))}},q=o.querySelectorAll(\"button\");for(f=0;f<q.length;f++)q[f].onclick=L,q[f].onmouseover=L,q[f].onmouseout=L,q[f].onmousedown=L;h().onclick=function(){t.closeModal(e.onClose),a(\"close\")},m().onclick=function(){e.allowOutsideClick&&(t.closeModal(e.onClose),a(\"overlay\"))};var M=v(),O=y(),V=[M,O].concat(Array.prototype.slice.call(o.querySelectorAll(\"button:not([class^=\"+n+\"]), input:not([type=hidden]), textarea, select\")));e.reverseButtons&&M.parentNode.insertBefore(O,M),d.previousWindowKeyDown=window.onkeydown,window.onkeydown=c,e.buttonsStyling&&(M.style.borderLeftColor=e.confirmButtonColor,M.style.borderRightColor=e.confirmButtonColor),t.showLoading=t.enableLoading=function(){w(M,\"loading\"),w(o,\"loading\"),M.disabled=!0,O.disabled=!0},t.hideLoading=t.disableLoading=function(){C(M,\"loading\"),C(o,\"loading\"),M.disabled=!1,O.disabled=!1},t.enableButtons=function(){M.disabled=!1,O.disabled=!1},t.disableButtons=function(){M.disabled=!0,O.disabled=!0},t.enableConfirmButton=function(){M.disabled=!1},t.disableConfirmButton=function(){M.disabled=!0},t.enableInput=function(){var e=u();if(\"radio\"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll(\"input\"),o=0;o<n.length;o++)n[o].disabled=!1;else e.disabled=!1},t.disableInput=function(){var e=u();if(\"radio\"===e.type)for(var t=e.parentNode.parentNode,n=t.querySelectorAll(\"input\"),o=0;o<n.length;o++)n[o].disabled=!0;else e.disabled=!0},t.showValidationError=function(e){var t=o.querySelector(\".\"+i.validationerror);t.innerHTML=e,E(t);var n=u();g(n),w(n,\"error\")},t.resetValidationError=function(){var e=o.querySelector(\".\"+i.validationerror);B(e);var t=u();t&&C(t,\"error\")},t.enableButtons(),t.hideLoading(),t.resetValidationError();var H,N=[\"input\",\"select\",\"radio\",\"checkbox\",\"textarea\"];for(f=0;f<N.length;f++){var j=i[N[f]];for(H=k(o,j);H.attributes.length>0;)H.removeAttribute(H.attributes[0].name);for(var K in e.inputAttributes)H.setAttribute(K,e.inputAttributes[K]);H.className=j,e.inputClass&&w(H,e.inputClass),S(H)}var U;switch(e.input){case\"text\":case\"email\":case\"password\":case\"file\":H=k(o,i.input),H.value=e.inputValue,H.placeholder=e.inputPlaceholder,H.type=e.input,x(H);break;case\"select\":var W=k(o,i.select);if(W.innerHTML=\"\",e.inputPlaceholder){var z=document.createElement(\"option\");z.innerHTML=e.inputPlaceholder,z.value=\"\",z.disabled=!0,z.selected=!0,W.appendChild(z)}U=function(t){for(var n in t){var o=document.createElement(\"option\");o.value=n,o.innerHTML=t[n],e.inputValue===n&&(o.selected=!0),W.appendChild(o)}x(W),W.focus()};break;case\"radio\":var R=k(o,i.radio);R.innerHTML=\"\",U=function(t){for(var n in t){var o=1,r=document.createElement(\"input\"),a=document.createElement(\"label\"),l=document.createElement(\"span\");r.type=\"radio\",r.name=i.radio,r.value=n,r.id=i.radio+\"-\"+o++,e.inputValue===n&&(r.checked=!0),l.innerHTML=t[n],a.appendChild(r),a.appendChild(l),a[\"for\"]=r.id,R.appendChild(a)}x(R);var c=R.querySelectorAll(\"input\");c.length&&c[0].focus()};break;case\"checkbox\":var Z=k(o,i.checkbox),$=o.querySelector(\"#\"+i.checkbox);$.value=1,$.checked=Boolean(e.inputValue);var _=Z.getElementsByTagName(\"span\");_.length&&Z.removeChild(_[0]),_=document.createElement(\"span\"),_.innerHTML=e.inputPlaceholder,Z.appendChild(_),x(Z);break;case\"textarea\":var F=k(o,i.textarea);F.value=e.inputValue,F.placeholder=e.inputPlaceholder,x(F);break;case null:break;default:console.error('SweetAlert2: Unexpected type of input! Expected \"text\" or \"email\" or \"password\", \"select\", \"checkbox\", \"textarea\" or \"file\", got \"'+e.input+'\"')}\"select\"!==e.input&&\"radio\"!==e.input||(e.inputOptions instanceof Promise?(t.showLoading(),e.inputOptions.then(function(e){t.hideLoading(),U(e)})):\"object\"==typeof e.inputOptions?U(e.inputOptions):console.error(\"SweetAlert2: Unexpected type of inputOptions! Expected object or Promise, got \"+typeof e.inputOptions)),I(),D(e.animation,e.onOpen),l(-1,1)})}function t(){var n=arguments,o=f();return null===o&&(t.init(),o=f()),b(o,\"visible\")&&V(),e.apply(this,n)}var n=\"swal2-\",o=function(e){var t={};for(var o in e)t[e[o]]=n+e[o];return t},i=o([\"container\",\"modal\",\"overlay\",\"close\",\"content\",\"spacer\",\"confirm\",\"cancel\",\"icon\",\"image\",\"input\",\"select\",\"radio\",\"checkbox\",\"textarea\",\"validationerror\"]),r=o([\"success\",\"warning\",\"info\",\"question\",\"error\"]),a={title:\"\",text:\"\",html:\"\",type:null,animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:\"OK\",confirmButtonColor:\"#3085d6\",confirmButtonClass:null,cancelButtonText:\"Cancel\",cancelButtonColor:\"#aaa\",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,showCloseButton:!1,showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageClass:null,timer:null,width:500,padding:20,background:\"#fff\",input:null,inputPlaceholder:\"\",inputValue:\"\",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,onOpen:null,onClose:null},l='<div class=\"'+i.overlay+'\" tabIndex=\"-1\"></div><div class=\"'+i.modal+'\" style=\"display: none\" tabIndex=\"-1\"><div class=\"'+i.icon+\" \"+r.error+'\"><span class=\"x-mark\"><span class=\"line left\"></span><span class=\"line right\"></span></span></div><div class=\"'+i.icon+\" \"+r.question+'\">?</div><div class=\"'+i.icon+\" \"+r.warning+'\">!</div><div class=\"'+i.icon+\" \"+r.info+'\">i</div><div class=\"'+i.icon+\" \"+r.success+'\"><span class=\"line tip\"></span> <span class=\"line long\"></span><div class=\"placeholder\"></div> <div class=\"fix\"></div></div><img class=\"'+i.image+'\"><h2></h2><div class=\"'+i.content+'\"></div><input class=\"'+i.input+'\"><select class=\"'+i.select+'\"></select><div class=\"'+i.radio+'\"></div><label for=\"'+i.checkbox+'\" class=\"'+i.checkbox+'\"><input type=\"checkbox\" id=\"'+i.checkbox+'\"></label><textarea class=\"'+i.textarea+'\"></textarea><div class=\"'+i.validationerror+'\"></div><hr class=\"'+i.spacer+'\"><button class=\"'+i.confirm+'\">OK</button><button class=\"'+i.cancel+'\">Cancel</button><span class=\"'+i.close+'\">&times;</span></div>',c=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,\"\"),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n=\"#\",o=0;3>o;o++){var i=parseInt(e.substr(2*o,2),16);i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),n+=(\"00\"+i).substr(i.length)}return n},u=n+\"mediaquery\",d={previousWindowKeyDown:null,previousActiveElement:null},p=function(e){return document.querySelector(\".\"+e)},f=function(){return p(i.modal)},m=function(){return p(i.overlay)},v=function(){return p(i.confirm)},y=function(){return p(i.cancel)},h=function(){return p(i.close)},b=function(e,t){return e.classList.contains(t)},g=function(e){e.focus();var t=e.value;e.value=\"\",e.value=t},w=function(e,t){if(e&&t){var n=t.split(/\\s+/);n.forEach(function(t){e.classList.add(t)})}},C=function(e,t){if(e&&t){var n=t.split(/\\s+/);n.forEach(function(t){e.classList.remove(t)})}},k=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(b(e.childNodes[n],t))return e.childNodes[n]},x=function(e){e.style.opacity=\"\",e.style.display=\"block\"},E=function(e){if(e&&!e.length)return x(e);for(var t=0;t<e.length;++t)x(e[t])},S=function(e){e.style.opacity=\"\",e.style.display=\"none\"},B=function(e){if(e&&!e.length)return S(e);for(var t=0;t<e.length;++t)S(e[t])},A=function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},L=function(e){var t=e.style.display;e.style.left=\"-9999px\",e.style.display=\"block\";var n=e.clientHeight;return e.style.left=\"\",e.style.display=t,\"-\"+parseInt(n/2,10)+\"px\"},q=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display=\"block\";var n=+new Date,o=function(){var i=+e.style.opacity+(new Date-n)/100;e.style.opacity=i>1?1:i,n=+new Date,+e.style.opacity<1&&setTimeout(o,t)};o()}},M=function(e,t){if(+e.style.opacity>0){t=t||16;var n=e.style.opacity,o=+new Date,i=function(){var r=new Date-o,a=+e.style.opacity-r/(100*n);e.style.opacity=a,o=+new Date,+e.style.opacity>0?setTimeout(i,t):S(e)};i()}},P=function(e){if(\"function\"==typeof MouseEvent){var t=new MouseEvent(\"click\",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var n=document.createEvent(\"MouseEvents\");n.initEvent(\"click\",!1,!1),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent(\"onclick\"):\"function\"==typeof e.onclick&&e.onclick()},T=function(e){\"function\"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):window.event&&window.event.hasOwnProperty(\"cancelBubble\")&&(window.event.cancelBubble=!0)},O=function(){var e=document.createElement(\"div\"),t={WebkitAnimation:\"webkitAnimationEnd\",MozAnimation:\"animationend\",OAnimation:\"oAnimationEnd oanimationend\",msAnimation:\"MSAnimationEnd\",animation:\"animationend\"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n];return!1}(),V=function(){var e=f();window.onkeydown=d.previousWindowKeyDown,d.previousActiveElement&&d.previousActiveElement.focus(),clearTimeout(e.timeout);var t=document.getElementsByTagName(\"head\")[0],n=document.getElementById(u);n&&t.removeChild(n)},H=c({},a),N=function(e){var t=f();for(var n in e)a.hasOwnProperty(n)||\"extraParams\"===n||console.warn('SweetAlert2: Unknown parameter \"'+n+'\"');t.style.width=e.width+\"px\",t.style.padding=e.padding+\"px\",t.style.marginLeft=-e.width/2+\"px\",t.style.background=e.background;var o=document.getElementsByTagName(\"head\")[0],l=document.createElement(\"style\");l.type=\"text/css\",l.id=u;var c=5,s=e.width+parseInt(e.width*(c/100)*2,10);l.innerHTML=\"@media screen and (max-width: \"+s+\"px) {.\"+i.modal+\" {width: auto !important;left: \"+c+\"% !important;right: \"+c+\"% !important;margin-left: 0 !important;}}\",o.appendChild(l);var d=t.querySelector(\"h2\"),p=t.querySelector(\".\"+i.content),m=v(),h=y(),b=t.querySelector(\".\"+i.spacer),g=t.querySelector(\".\"+i.close);if(d.innerHTML=e.title.split(\"\\n\").join(\"<br>\"),e.text||e.html){if(\"object\"==typeof e.html)if(p.innerHTML=\"\",0 in e.html)for(var k=0;k in e.html;k++)p.appendChild(e.html[k]);else p.appendChild(e.html);else p.innerHTML=e.html||e.text.split(\"\\n\").join(\"<br>\");E(p)}else B(p);if(e.showCloseButton?E(g):B(g),t.className=i.modal,e.customClass&&w(t,e.customClass),B(t.querySelectorAll(\".\"+i.icon)),e.type){var x=!1;for(var S in r)if(e.type===S){x=!0;break}if(!x)return console.error(\"SweetAlert2: Unknown alert type: \"+e.type),!1;var L=t.querySelector(\".\"+i.icon+\".\"+r[e.type]);switch(E(L),e.type){case\"success\":w(L,\"animate\"),w(L.querySelector(\".tip\"),\"animate-success-tip\"),w(L.querySelector(\".long\"),\"animate-success-long\");break;case\"error\":w(L,\"animate-error-icon\"),w(L.querySelector(\".x-mark\"),\"animate-x-mark\");break;case\"warning\":w(L,\"pulse-warning\")}}var q=t.querySelector(\".\"+i.image);e.imageUrl?(q.setAttribute(\"src\",e.imageUrl),E(q),e.imageWidth?q.setAttribute(\"width\",e.imageWidth):q.removeAttribute(\"width\"),e.imageHeight?q.setAttribute(\"height\",e.imageHeight):q.removeAttribute(\"height\"),e.imageClass&&w(q,e.imageClass)):B(q),e.showCancelButton?h.style.display=\"inline-block\":B(h),e.showConfirmButton?A(m,\"display\"):B(m),e.showConfirmButton||e.showCancelButton?E(b):B(b),m.innerHTML=e.confirmButtonText,h.innerHTML=e.cancelButtonText,e.buttonsStyling&&(m.style.backgroundColor=e.confirmButtonColor,h.style.backgroundColor=e.cancelButtonColor),m.className=i.confirm,w(m,e.confirmButtonClass),h.className=i.cancel,w(h,e.cancelButtonClass),e.buttonsStyling?(w(m,\"styled\"),w(h,\"styled\")):(C(m,\"styled\"),C(h,\"styled\"),m.style.backgroundColor=m.style.borderLeftColor=m.style.borderRightColor=\"\",h.style.backgroundColor=h.style.borderLeftColor=h.style.borderRightColor=\"\"),e.animation===!0?C(t,\"no-animation\"):w(t,\"no-animation\")},D=function(e,t){var n=f();e?(q(m(),10),w(n,\"show-swal2\"),C(n,\"hide-swal2\")):E(m()),E(n),d.previousActiveElement=document.activeElement,w(n,\"visible\"),null!==t&&\"function\"==typeof t&&t.call(this,n)},I=function(){var e=f();e.style.marginTop=L(e)};return t.queue=function(e){return new Promise(function(n,o){!function i(r,a){r<e.length?t(e[r]).then(function(){i(r+1,a)},function(e){o(e)}):n()}(0)})},t.close=t.closeModal=function(e){var t=f();C(t,\"show-swal2\"),w(t,\"hide-swal2\"),C(t,\"visible\");var n=t.querySelector(\".\"+i.icon+\".\"+r.success);C(n,\"animate\"),C(n.querySelector(\".tip\"),\"animate-success-tip\"),C(n.querySelector(\".long\"),\"animate-success-long\");var o=t.querySelector(\".\"+i.icon+\".\"+r.error);C(o,\"animate-error-icon\"),C(o.querySelector(\".x-mark\"),\"animate-x-mark\");var a=t.querySelector(\".\"+i.icon+\".\"+r.warning);C(a,\"pulse-warning\"),V(),O&&!b(t,\"no-animation\")?t.addEventListener(O,function l(){t.removeEventListener(O,l),b(t,\"hide-swal2\")&&(S(t),M(m(),0))}):(S(t),S(m())),null!==e&&\"function\"==typeof e&&e.call(this,t)},t.clickConfirm=function(){v().click()},t.clickCancel=function(){y().click()},t.init=function(){if(\"undefined\"==typeof document)return void console.log(\"SweetAlert2 requires document to initialize\");if(!document.getElementsByClassName(i.container).length){var e=document.createElement(\"div\");e.className=i.container,e.innerHTML=l,document.body.appendChild(e);var n=f(),o=k(n,i.input),r=k(n,i.select),a=n.querySelector(\"#\"+i.checkbox),c=k(n,i.textarea);o.oninput=function(){t.resetValidationError()},o.onkeyup=function(e){e.stopPropagation(),13===e.keyCode&&t.clickConfirm()},r.onchange=function(){t.resetValidationError()},a.onchange=function(){t.resetValidationError()},c.oninput=function(){t.resetValidationError()},window.addEventListener(\"resize\",I,!1)}},t.setDefaults=function(e){if(!e)throw new Error(\"userParams is required\");if(\"object\"!=typeof e)throw new Error(\"userParams has to be a object\");c(H,e)},t.resetDefaults=function(){H=c({},a)},t.version=\"4.0.15\",window.sweetAlert=window.swal=t,function(){\"complete\"===document.readyState||\"interactive\"===document.readyState&&document.body?t.init():document.addEventListener(\"DOMContentLoaded\",function e(){document.removeEventListener(\"DOMContentLoaded\",e,!1),t.init()},!1)}(),\"function\"==typeof Promise&&(Promise.prototype.done=function(){return this[\"catch\"](function(){})}),t});","angular.module(\"ui.bootstrap\",[\"ui.bootstrap.tpls\",\"ui.bootstrap.transition\",\"ui.bootstrap.collapse\",\"ui.bootstrap.accordion\",\"ui.bootstrap.alert\",\"ui.bootstrap.buttons\",\"ui.bootstrap.carousel\",\"ui.bootstrap.datepicker\",\"ui.bootstrap.dialog\",\"ui.bootstrap.dropdownToggle\",\"ui.bootstrap.modal\",\"ui.bootstrap.pagination\",\"ui.bootstrap.position\",\"ui.bootstrap.tooltip\",\"ui.bootstrap.popover\",\"ui.bootstrap.progressbar\",\"ui.bootstrap.rating\",\"ui.bootstrap.tabs\",\"ui.bootstrap.timepicker\",\"ui.bootstrap.typeahead\"]),angular.module(\"ui.bootstrap.tpls\",[\"template/accordion/accordion-group.html\",\"template/accordion/accordion.html\",\"template/alert/alert.html\",\"template/carousel/carousel.html\",\"template/carousel/slide.html\",\"template/datepicker/datepicker.html\",\"template/dialog/message.html\",\"template/pagination/pager.html\",\"template/pagination/pagination.html\",\"template/tooltip/tooltip-html-unsafe-popup.html\",\"template/tooltip/tooltip-popup.html\",\"template/popover/popover.html\",\"template/progressbar/bar.html\",\"template/progressbar/progress.html\",\"template/rating/rating.html\",\"template/tabs/tab.html\",\"template/tabs/tabset.html\",\"template/timepicker/timepicker.html\",\"template/typeahead/typeahead.html\"]),angular.module(\"ui.bootstrap.transition\",[]).factory(\"$transition\",[\"$q\",\"$timeout\",\"$rootScope\",function(e,t,n){function a(e){for(var t in e)if(void 0!==i.style[t])return e[t]}var o=function(a,i,r){r=r||{};var l=e.defer(),s=o[r.animation?\"animationEndEventName\":\"transitionEndEventName\"],c=function(){n.$apply(function(){a.unbind(s,c),l.resolve(a)})};return s&&a.bind(s,c),t(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),s||l.resolve(a)}),l.promise.cancel=function(){s&&a.unbind(s,c),l.reject(\"Transition cancelled\")},l.promise},i=document.createElement(\"trans\"),r={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd\",transition:\"transitionend\"},l={WebkitTransition:\"webkitAnimationEnd\",MozTransition:\"animationend\",OTransition:\"oAnimationEnd\",transition:\"animationend\"};return o.transitionEndEventName=a(r),o.animationEndEventName=a(l),o}]),angular.module(\"ui.bootstrap.collapse\",[\"ui.bootstrap.transition\"]).directive(\"collapse\",[\"$transition\",function(e){var t=function(e,t,n){t.removeClass(\"collapse\"),t.css({height:n}),t[0].offsetWidth,t.addClass(\"collapse\")};return{link:function(n,a,o){var i,r=!0;n.$watch(function(){return a[0].scrollHeight},function(){0!==a[0].scrollHeight&&(i||(r?t(n,a,a[0].scrollHeight+\"px\"):t(n,a,\"auto\")))}),n.$watch(o.collapse,function(e){e?u():c()});var l,s=function(t){return l&&l.cancel(),l=e(a,t),l.then(function(){l=void 0},function(){l=void 0}),l},c=function(){r?(r=!1,i||t(n,a,\"auto\")):s({height:a[0].scrollHeight+\"px\"}).then(function(){i||t(n,a,\"auto\")}),i=!1},u=function(){i=!0,r?(r=!1,t(n,a,0)):(t(n,a,a[0].scrollHeight+\"px\"),s({height:\"0\"}))}}}}]),angular.module(\"ui.bootstrap.accordion\",[\"ui.bootstrap.collapse\"]).constant(\"accordionConfig\",{closeOthers:!0}).controller(\"AccordionController\",[\"$scope\",\"$attrs\",\"accordionConfig\",function(e,t,n){this.groups=[],this.closeOthers=function(a){var o=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;o&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on(\"$destroy\",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive(\"accordion\",function(){return{restrict:\"EA\",controller:\"AccordionController\",transclude:!0,replace:!1,templateUrl:\"template/accordion/accordion.html\"}}).directive(\"accordionGroup\",[\"$parse\",\"$transition\",\"$timeout\",function(e){return{require:\"^accordion\",restrict:\"EA\",transclude:!0,replace:!0,templateUrl:\"template/accordion/accordion-group.html\",scope:{heading:\"@\"},controller:[\"$scope\",function(){this.setHeading=function(e){this.heading=e}}],link:function(t,n,a,o){var i,r;o.addGroup(t),t.isOpen=!1,a.isOpen&&(i=e(a.isOpen),r=i.assign,t.$watch(function(){return i(t.$parent)},function(e){t.isOpen=e}),t.isOpen=i?i(t.$parent):!1),t.$watch(\"isOpen\",function(e){e&&o.closeOthers(t),r&&r(t.$parent,e)})}}}]).directive(\"accordionHeading\",function(){return{restrict:\"EA\",transclude:!0,template:\"\",replace:!0,require:\"^accordionGroup\",compile:function(e,t,n){return function(e,t,a,o){o.setHeading(n(e,function(){}))}}}}).directive(\"accordionTransclude\",function(){return{require:\"^accordionGroup\",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.html(\"\"),t.append(e))})}}}),angular.module(\"ui.bootstrap.alert\",[]).directive(\"alert\",function(){return{restrict:\"EA\",templateUrl:\"template/alert/alert.html\",transclude:!0,replace:!0,scope:{type:\"=\",close:\"&\"},link:function(e,t,n){e.closeable=\"close\"in n}}}),angular.module(\"ui.bootstrap.buttons\",[]).constant(\"buttonConfig\",{activeClass:\"active\",toggleEvent:\"click\"}).directive(\"btnRadio\",[\"buttonConfig\",function(e){var t=e.activeClass||\"active\",n=e.toggleEvent||\"click\";return{require:\"ngModel\",link:function(e,a,o,i){i.$render=function(){a.toggleClass(t,angular.equals(i.$modelValue,e.$eval(o.btnRadio)))},a.bind(n,function(){a.hasClass(t)||e.$apply(function(){i.$setViewValue(e.$eval(o.btnRadio)),i.$render()})})}}}]).directive(\"btnCheckbox\",[\"buttonConfig\",function(e){var t=e.activeClass||\"active\",n=e.toggleEvent||\"click\";return{require:\"ngModel\",link:function(e,a,o,i){var r=e.$eval(o.btnCheckboxTrue),l=e.$eval(o.btnCheckboxFalse);r=angular.isDefined(r)?r:!0,l=angular.isDefined(l)?l:!1,i.$render=function(){a.toggleClass(t,angular.equals(i.$modelValue,r))},a.bind(n,function(){e.$apply(function(){i.$setViewValue(a.hasClass(t)?l:r),i.$render()})})}}}]),angular.module(\"ui.bootstrap.carousel\",[\"ui.bootstrap.transition\"]).controller(\"CarouselController\",[\"$scope\",\"$timeout\",\"$transition\",\"$q\",function(e,t,n){function a(){function n(){i?(e.next(),a()):e.pause()}o&&t.cancel(o);var r=+e.interval;!isNaN(r)&&r>=0&&(o=t(n,r))}var o,i,r=this,l=r.slides=[],s=-1;r.currentSlide=null,r.select=function(o,i){function c(){r.currentSlide&&angular.isString(i)&&!e.noTransition&&o.$element?(o.$element.addClass(i),o.$element[0].offsetWidth=o.$element[0].offsetWidth,angular.forEach(l,function(e){angular.extend(e,{direction:\"\",entering:!1,leaving:!1,active:!1})}),angular.extend(o,{direction:i,active:!0,entering:!0}),angular.extend(r.currentSlide||{},{direction:i,leaving:!0}),e.$currentTransition=n(o.$element,{}),function(t,n){e.$currentTransition.then(function(){u(t,n)},function(){u(t,n)})}(o,r.currentSlide)):u(o,r.currentSlide),r.currentSlide=o,s=p,a()}function u(t,n){angular.extend(t,{direction:\"\",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:\"\",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var p=l.indexOf(o);void 0===i&&(i=p>s?\"next\":\"prev\"),o&&o!==r.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(c)):c())},r.indexOfSlide=function(e){return l.indexOf(e)},e.next=function(){var t=(s+1)%l.length;return e.$currentTransition?void 0:r.select(l[t],\"next\")},e.prev=function(){var t=0>s-1?l.length-1:s-1;return e.$currentTransition?void 0:r.select(l[t],\"prev\")},e.select=function(e){r.select(e)},e.isActive=function(e){return r.currentSlide===e},e.slides=function(){return l},e.$watch(\"interval\",a),e.play=function(){i||(i=!0,a())},e.pause=function(){e.noPause||(i=!1,o&&t.cancel(o))},r.addSlide=function(t,n){t.$element=n,l.push(t),1===l.length||t.active?(r.select(l[l.length-1]),1==l.length&&e.play()):t.active=!1},r.removeSlide=function(e){var t=l.indexOf(e);l.splice(t,1),l.length>0&&e.active?t>=l.length?r.select(l[t-1]):r.select(l[t]):s>t&&s--}}]).directive(\"carousel\",[function(){return{restrict:\"EA\",transclude:!0,replace:!0,controller:\"CarouselController\",require:\"carousel\",templateUrl:\"template/carousel/carousel.html\",scope:{interval:\"=\",noTransition:\"=\",noPause:\"=\"}}}]).directive(\"slide\",[\"$parse\",function(e){return{require:\"^carousel\",restrict:\"EA\",transclude:!0,replace:!0,templateUrl:\"template/carousel/slide.html\",scope:{},link:function(t,n,a,o){if(a.active){var i=e(a.active),r=i.assign,l=t.active=i(t.$parent);t.$watch(function(){var e=i(t.$parent);return e!==t.active&&(e!==l?l=t.active=e:r(t.$parent,e=l=t.active)),e})}o.addSlide(t,n),t.$on(\"$destroy\",function(){o.removeSlide(t)}),t.$watch(\"active\",function(e){e&&o.select(t)})}}}]),angular.module(\"ui.bootstrap.datepicker\",[]).constant(\"datepickerConfig\",{dayFormat:\"dd\",monthFormat:\"MMMM\",yearFormat:\"yyyy\",dayHeaderFormat:\"EEE\",dayTitleFormat:\"MMMM yyyy\",monthTitleFormat:\"yyyy\",showWeeks:!0,startingDay:0,yearRange:20}).directive(\"datepicker\",[\"dateFilter\",\"$parse\",\"datepickerConfig\",function(e,t,n){return{restrict:\"EA\",replace:!0,scope:{model:\"=ngModel\",dateDisabled:\"&\"},templateUrl:\"template/datepicker/datepicker.html\",link:function(a,o,r){function l(e,t,n){a.rows=e,a.labels=t,a.title=n}function s(){a.showWeekNumbers=\"day\"===a.mode&&p}function c(e,t){return\"year\"===a.mode?t.getFullYear()-e.getFullYear():\"month\"===a.mode?new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth()):\"day\"===a.mode?new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate()):void 0}function u(e){return d&&c(e,d)>0||m&&0>c(e,m)||a.dateDisabled&&a.dateDisabled({date:e,mode:a.mode})}a.mode=\"day\";var p,d,m,g=new Date,f={};f.day=angular.isDefined(r.dayFormat)?a.$eval(r.dayFormat):n.dayFormat,f.month=angular.isDefined(r.monthFormat)?a.$eval(r.monthFormat):n.monthFormat,f.year=angular.isDefined(r.yearFormat)?a.$eval(r.yearFormat):n.yearFormat,f.dayHeader=angular.isDefined(r.dayHeaderFormat)?a.$eval(r.dayHeaderFormat):n.dayHeaderFormat,f.dayTitle=angular.isDefined(r.dayTitleFormat)?a.$eval(r.dayTitleFormat):n.dayTitleFormat,f.monthTitle=angular.isDefined(r.monthTitleFormat)?a.$eval(r.monthTitleFormat):n.monthTitleFormat;var h=angular.isDefined(r.startingDay)?a.$eval(r.startingDay):n.startingDay,v=angular.isDefined(r.yearRange)?a.$eval(r.yearRange):n.yearRange;r.showWeeks?a.$parent.$watch(t(r.showWeeks),function(e){p=!!e,s()}):(p=n.showWeeks,s()),r.min&&a.$parent.$watch(t(r.min),function(e){d=new Date(e),w()}),r.max&&a.$parent.$watch(t(r.max),function(e){m=new Date(e),w()});var b=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},$=function(e,t){return new Date(e,t+1,0).getDate()},y={day:function(){function t(t,a,i){for(var r=0;a>r;r++)n.push({date:new Date(t),isCurrent:i,isSelected:k(t),label:e(t,f.day),disabled:u(t)}),t.setDate(t.getDate()+1);o=t}var n=[],a=[],o=null,r=new Date(g);r.setDate(1);var s=h-r.getDay(),c=s>0?7-s:-s;for(c>0&&(r.setDate(-c+1),t(r,c,!1)),t(o||r,$(g.getFullYear(),g.getMonth()),!0),t(o,(7-n.length%7)%7,!1),i=0;7>i;i++)a.push(e(n[i].date,f.dayHeader));l(b(n,7),a,e(g,f.dayTitle))},month:function(){for(var t=[],n=0,a=g.getFullYear();12>n;){var o=new Date(a,n++,1);t.push({date:o,isCurrent:!0,isSelected:k(o),label:e(o,f.month),disabled:u(o)})}l(b(t,3),[],e(g,f.monthTitle))},year:function(){for(var t=[],n=parseInt((g.getFullYear()-1)/v,10)*v+1,a=0;v>a;a++){var o=new Date(n+a,0,1);t.push({date:o,isCurrent:!0,isSelected:k(o),label:e(o,f.year),disabled:u(o)})}var i=t[0].label+\" - \"+t[t.length-1].label;l(b(t,5),[],i)}},w=function(){y[a.mode]()},k=function(e){if(a.model&&a.model.getFullYear()===e.getFullYear()){if(\"year\"===a.mode)return!0;if(a.model.getMonth()===e.getMonth())return\"month\"===a.mode||\"day\"===a.mode&&a.model.getDate()===e.getDate()}return!1};a.$watch(\"model\",function(e,t){angular.isDate(e)&&(g=angular.copy(e)),angular.equals(e,t)||w()}),a.$watch(\"mode\",function(){s(),w()}),a.select=function(e){g=new Date(e),\"year\"===a.mode?(a.mode=\"month\",g.setFullYear(e.getFullYear())):\"month\"===a.mode?(a.mode=\"day\",g.setMonth(e.getMonth())):\"day\"===a.mode&&(a.model=new Date(g))},a.move=function(e){\"day\"===a.mode?g.setMonth(g.getMonth()+e):\"month\"===a.mode?g.setFullYear(g.getFullYear()+e):\"year\"===a.mode&&g.setFullYear(g.getFullYear()+e*v),w()},a.toggleMode=function(){a.mode=\"day\"===a.mode?\"month\":\"month\"===a.mode?\"year\":\"day\"},a.getWeekNumber=function(e){if(\"day\"===a.mode&&a.showWeekNumbers&&7===e.length){var t=h>4?11-h:4-h,n=new Date(e[t].date);return n.setHours(0,0,0),Math.ceil(((n-new Date(n.getFullYear(),0,1))/864e5+1)/7)}}}}}]);var dialogModule=angular.module(\"ui.bootstrap.dialog\",[\"ui.bootstrap.transition\"]);dialogModule.controller(\"MessageBoxController\",[\"$scope\",\"dialog\",\"model\",function(e,t,n){e.title=n.title,e.message=n.message,e.buttons=n.buttons,e.close=function(e){t.close(e)}}]),dialogModule.provider(\"$dialog\",function(){var e={backdrop:!0,dialogClass:\"modal\",backdropClass:\"modal-backdrop\",transitionClass:\"fade\",triggerClass:\"in\",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},t={},n={value:0};this.options=function(e){t=e},this.$get=[\"$http\",\"$document\",\"$compile\",\"$rootScope\",\"$controller\",\"$templateCache\",\"$q\",\"$transition\",\"$injector\",function(a,o,i,r,l,s,c,u,p){function d(e){var t=angular.element(\"<div>\");return t.addClass(e),t}function m(n){var a=this,o=this.options=angular.extend({},e,t,n);this._open=!1,this.backdropEl=d(o.backdropClass),o.backdropFade&&(this.backdropEl.addClass(o.transitionClass),this.backdropEl.removeClass(o.triggerClass)),this.modalEl=d(o.dialogClass),o.dialogFade&&(this.modalEl.addClass(o.transitionClass),this.modalEl.removeClass(o.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(a.close(),e.preventDefault(),a.$scope.$apply())},this.handleBackDropClick=function(e){a.close(),e.preventDefault(),a.$scope.$apply()},this.handleLocationChange=function(){a.close()}}var g=o.find(\"body\");return m.prototype.isOpen=function(){return this._open},m.prototype.open=function(e,t){var n=this,a=this.options;if(e&&(a.templateUrl=e),t&&(a.controller=t),!a.template&&!a.templateUrl)throw Error(\"Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.\");return this._loadResolves().then(function(e){var t=e.$scope=n.$scope=e.$scope?e.$scope:r.$new();if(n.modalEl.html(e.$template),n.options.controller){var a=l(n.options.controller,e);n.modalEl.children().data(\"ngControllerController\",a)}i(n.modalEl)(t),n._addElementsToDom(),setTimeout(function(){n.options.dialogFade&&n.modalEl.addClass(n.options.triggerClass),n.options.backdropFade&&n.backdropEl.addClass(n.options.triggerClass)}),n._bindEvents()}),this.deferred=c.defer(),this.deferred.promise},m.prototype.close=function(e){function t(e){e.removeClass(a.options.triggerClass)}function n(){a._open&&a._onCloseComplete(e)}var a=this,o=this._getFadingElements();if(o.length>0)for(var i=o.length-1;i>=0;i--)u(o[i],t).then(n);else this._onCloseComplete(e)},m.prototype._getFadingElements=function(){var e=[];return this.options.dialogFade&&e.push(this.modalEl),this.options.backdropFade&&e.push(this.backdropEl),e},m.prototype._bindEvents=function(){this.options.keyboard&&g.bind(\"keydown\",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind(\"click\",this.handleBackDropClick)},m.prototype._unbindEvents=function(){this.options.keyboard&&g.unbind(\"keydown\",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind(\"click\",this.handleBackDropClick)},m.prototype._onCloseComplete=function(e){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(e)},m.prototype._addElementsToDom=function(){g.append(this.modalEl),this.options.backdrop&&(0===n.value&&g.append(this.backdropEl),n.value++),this._open=!0},m.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},m.prototype._loadResolves=function(){var e,t=[],n=[],o=this;return this.options.template?e=c.when(this.options.template):this.options.templateUrl&&(e=a.get(this.options.templateUrl,{cache:s}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,a){n.push(a),t.push(angular.isString(e)?p.get(e):p.invoke(e))}),n.push(\"$template\"),t.push(e),c.all(t).then(function(e){var t={};return angular.forEach(e,function(e,a){t[n[a]]=e}),t.dialog=o,t})},{dialog:function(e){return new m(e)},messageBox:function(e,t,n){return new m({templateUrl:\"template/dialog/message.html\",controller:\"MessageBoxController\",resolve:{model:function(){return{title:e,message:t,buttons:n}}}})}}}]}),angular.module(\"ui.bootstrap.dropdownToggle\",[]).directive(\"dropdownToggle\",[\"$document\",\"$location\",function(e){var t=null,n=angular.noop;return{restrict:\"CA\",link:function(a,o){a.$watch(\"$location.path\",function(){n()}),o.parent().bind(\"click\",function(){n()}),o.bind(\"click\",function(a){var i=o===t;a.preventDefault(),a.stopPropagation(),t&&n(),i||(o.parent().addClass(\"open\"),t=o,n=function(a){a&&(a.preventDefault(),a.stopPropagation()),e.unbind(\"click\",n),o.parent().removeClass(\"open\"),n=angular.noop,t=null},e.bind(\"click\",n))})}}}]),angular.module(\"ui.bootstrap.modal\",[\"ui.bootstrap.dialog\"]).directive(\"modal\",[\"$parse\",\"$dialog\",function(e,t){return{restrict:\"EA\",terminal:!0,link:function(n,a,o){var i,r=angular.extend({},n.$eval(o.uiOptions||o.bsOptions||o.options)),l=o.modal||o.show;r=angular.extend(r,{template:a.html(),resolve:{$scope:function(){return n}}});var s=t.dialog(r);a.remove(),i=o.close?function(){e(o.close)(n)}:function(){angular.isFunction(e(l).assign)&&e(l).assign(n,!1)},n.$watch(l,function(e){e?s.open().then(function(){i()}):s.isOpen()&&s.close()})}}}]),angular.module(\"ui.bootstrap.pagination\",[]).controller(\"PaginationController\",[\"$scope\",function(e){e.noPrevious=function(){return 1===e.currentPage},e.noNext=function(){return e.currentPage===e.numPages},e.isActive=function(t){return e.currentPage===t},e.selectPage=function(t){!e.isActive(t)&&t>0&&e.numPages>=t&&(e.currentPage=t,e.onSelectPage({page:t}))}}]).constant(\"paginationConfig\",{boundaryLinks:!1,directionLinks:!0,firstText:\"First\",previousText:\"Previous\",nextText:\"Next\",lastText:\"Last\",rotate:!0}).directive(\"pagination\",[\"paginationConfig\",function(e){return{restrict:\"EA\",scope:{numPages:\"=\",currentPage:\"=\",maxSize:\"=\",onSelectPage:\"&\"},controller:\"PaginationController\",templateUrl:\"template/pagination/pagination.html\",replace:!0,link:function(t,n,a){function o(e,t,n,a){return{number:e,text:t,active:n,disabled:a}}var i=angular.isDefined(a.boundaryLinks)?t.$eval(a.boundaryLinks):e.boundaryLinks,r=angular.isDefined(a.directionLinks)?t.$eval(a.directionLinks):e.directionLinks,l=angular.isDefined(a.firstText)?t.$parent.$eval(a.firstText):e.firstText,s=angular.isDefined(a.previousText)?t.$parent.$eval(a.previousText):e.previousText,c=angular.isDefined(a.nextText)?t.$parent.$eval(a.nextText):e.nextText,u=angular.isDefined(a.lastText)?t.$parent.$eval(a.lastText):e.lastText,p=angular.isDefined(a.rotate)?t.$eval(a.rotate):e.rotate;t.$watch(\"numPages + currentPage + maxSize\",function(){t.pages=[];var e=1,n=t.numPages,a=angular.isDefined(t.maxSize)&&t.maxSize<t.numPages;a&&(p?(e=Math.max(t.currentPage-Math.floor(t.maxSize/2),1),n=e+t.maxSize-1,n>t.numPages&&(n=t.numPages,e=n-t.maxSize+1)):(e=(Math.ceil(t.currentPage/t.maxSize)-1)*t.maxSize+1,n=Math.min(e+t.maxSize-1,t.numPages)));for(var d=e;n>=d;d++){var m=o(d,d,t.isActive(d),!1);t.pages.push(m)}if(a&&!p){if(e>1){var g=o(e-1,\"...\",!1,!1);t.pages.unshift(g)}if(t.numPages>n){var f=o(n+1,\"...\",!1,!1);t.pages.push(f)}}if(r){var h=o(t.currentPage-1,s,!1,t.noPrevious());t.pages.unshift(h);var v=o(t.currentPage+1,c,!1,t.noNext());t.pages.push(v)}if(i){var b=o(1,l,!1,t.noPrevious());t.pages.unshift(b);var $=o(t.numPages,u,!1,t.noNext());t.pages.push($)}t.currentPage>t.numPages&&t.selectPage(t.numPages)})}}}]).constant(\"pagerConfig\",{previousText:\"« Previous\",nextText:\"Next »\",align:!0}).directive(\"pager\",[\"pagerConfig\",function(e){return{restrict:\"EA\",scope:{numPages:\"=\",currentPage:\"=\",onSelectPage:\"&\"},controller:\"PaginationController\",templateUrl:\"template/pagination/pager.html\",replace:!0,link:function(t,n,a){function o(e,t,n,a,o){return{number:e,text:t,disabled:n,previous:l&&a,next:l&&o}}var i=angular.isDefined(a.previousText)?t.$parent.$eval(a.previousText):e.previousText,r=angular.isDefined(a.nextText)?t.$parent.$eval(a.nextText):e.nextText,l=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align;t.$watch(\"numPages + currentPage\",function(){t.pages=[];var e=o(t.currentPage-1,i,t.noPrevious(),!0,!1);t.pages.unshift(e);var n=o(t.currentPage+1,r,t.noNext(),!1,!0);t.pages.push(n),t.currentPage>t.numPages&&t.selectPage(t.numPages)})}}}]),angular.module(\"ui.bootstrap.position\",[]).factory(\"$position\",[\"$document\",\"$window\",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return\"static\"===(n(e,\"position\")||\"static\")}var o,i;e.bind(\"mousemove\",function(e){o=e.pageX,i=e.pageY});var r=function(t){for(var n=e[0],o=t.offsetParent||n;o&&o!==n&&a(o);)o=o.offsetParent;return o||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=r(t[0]);return o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop,a.left+=o.clientLeft),{width:t.prop(\"offsetWidth\"),height:t.prop(\"offsetHeight\"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:n.prop(\"offsetWidth\"),height:n.prop(\"offsetHeight\"),top:a.top+(t.pageYOffset||e[0].body.scrollTop),left:a.left+(t.pageXOffset||e[0].body.scrollLeft)}},mouse:function(){return{x:o,y:i}}}}]),angular.module(\"ui.bootstrap.tooltip\",[\"ui.bootstrap.position\"]).provider(\"$tooltip\",function(){function e(e){var t=/[A-Z]/g,n=\"-\";return e.replace(t,function(e,t){return(t?n:\"\")+e.toLowerCase()})}var t={placement:\"top\",animation:!0,popupDelay:0},n={mouseenter:\"mouseleave\",click:\"click\",focus:\"blur\"},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=[\"$window\",\"$compile\",\"$timeout\",\"$parse\",\"$document\",\"$position\",\"$interpolate\",function(o,i,r,l,s,c,u){return function(o,p,d){function m(e){var t,a;return t=e||g.trigger||d,a=angular.isDefined(g.trigger)?n[g.trigger]||t:n[t]||t,{show:t,hide:a}}var g=angular.extend({},t,a),f=e(o),h=m(void 0),v=u.startSymbol(),b=u.endSymbol(),$=\"<\"+f+\"-popup \"+'title=\"'+v+\"tt_title\"+b+'\" '+'content=\"'+v+\"tt_content\"+b+'\" '+'placement=\"'+v+\"tt_placement\"+b+'\" '+'animation=\"tt_animation()\" '+'is-open=\"tt_isOpen\"'+\">\"+\"</\"+f+\"-popup>\";return{restrict:\"EA\",scope:!0,link:function(e,t,n){function a(){e.tt_isOpen?d():u()}function u(){e.tt_popupDelay?y=r(f,e.tt_popupDelay):e.$apply(f)}function d(){e.$apply(function(){v()})}function f(){var n,a,o,i;if(e.tt_content){switch(b&&r.cancel(b),k.css({top:0,left:0,display:\"block\"}),x?(w=w||s.find(\"body\"),w.append(k)):t.after(k),n=g.appendToBody?c.offset(t):c.position(t),a=k.prop(\"offsetWidth\"),o=k.prop(\"offsetHeight\"),e.tt_placement){case\"mouse\":var l=c.mouse();i={top:l.y,left:l.x};break;case\"right\":i={top:n.top+n.height/2-o/2,left:n.left+n.width};break;case\"bottom\":i={top:n.top+n.height,left:n.left+n.width/2-a/2};break;case\"left\":i={top:n.top+n.height/2-o/2,left:n.left-a};break;default:i={top:n.top-o,left:n.left+n.width/2-a/2}}i.top+=\"px\",i.left+=\"px\",k.css(i),e.tt_isOpen=!0}}function v(){e.tt_isOpen=!1,r.cancel(y),angular.isDefined(e.tt_animation)&&e.tt_animation()?b=r(function(){k.remove()},500):k.remove()}var b,y,w,k=i($)(e),x=angular.isDefined(g.appendToBody)?g.appendToBody:!1;e.tt_isOpen=!1,n.$observe(o,function(t){e.tt_content=t}),n.$observe(p+\"Title\",function(t){e.tt_title=t}),n.$observe(p+\"Placement\",function(t){e.tt_placement=angular.isDefined(t)?t:g.placement}),n.$observe(p+\"Animation\",function(t){e.tt_animation=angular.isDefined(t)?l(t):function(){return g.animation}}),n.$observe(p+\"PopupDelay\",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?g.popupDelay:n}),n.$observe(p+\"Trigger\",function(e){t.unbind(h.show),t.unbind(h.hide),h=m(e),h.show===h.hide?t.bind(h.show,a):(t.bind(h.show,u),t.bind(h.hide,d))}),n.$observe(p+\"AppendToBody\",function(t){x=angular.isDefined(t)?l(t)(e):x}),x&&e.$on(\"$locationChangeSuccess\",function(){e.tt_isOpen&&v()}),e.$on(\"$destroy\",function(){e.tt_isOpen?v():k.remove()})}}}}]}).directive(\"tooltipPopup\",function(){return{restrict:\"E\",replace:!0,scope:{content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/tooltip/tooltip-popup.html\"}}).directive(\"tooltip\",[\"$tooltip\",function(e){return e(\"tooltip\",\"tooltip\",\"mouseenter\")}]).directive(\"tooltipHtmlUnsafePopup\",function(){return{restrict:\"E\",replace:!0,scope:{content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/tooltip/tooltip-html-unsafe-popup.html\"}}).directive(\"tooltipHtmlUnsafe\",[\"$tooltip\",function(e){return e(\"tooltipHtmlUnsafe\",\"tooltip\",\"mouseenter\")}]),angular.module(\"ui.bootstrap.popover\",[\"ui.bootstrap.tooltip\"]).directive(\"popoverPopup\",function(){return{restrict:\"EA\",replace:!0,scope:{title:\"@\",content:\"@\",placement:\"@\",animation:\"&\",isOpen:\"&\"},templateUrl:\"template/popover/popover.html\"}}).directive(\"popover\",[\"$compile\",\"$timeout\",\"$parse\",\"$window\",\"$tooltip\",function(e,t,n,a,o){return o(\"popover\",\"popover\",\"click\")}]),angular.module(\"ui.bootstrap.progressbar\",[\"ui.bootstrap.transition\"]).constant(\"progressConfig\",{animate:!0,autoType:!1,stackedTypes:[\"success\",\"info\",\"warning\",\"danger\"]}).controller(\"ProgressBarController\",[\"$scope\",\"$attrs\",\"progressConfig\",function(e,t,n){function a(e){return r[e]}var o=angular.isDefined(t.animate)?e.$eval(t.animate):n.animate,i=angular.isDefined(t.autoType)?e.$eval(t.autoType):n.autoType,r=angular.isDefined(t.stackedTypes)?e.$eval(\"[\"+t.stackedTypes+\"]\"):n.stackedTypes;this.makeBar=function(e,t,n){var r=angular.isObject(e)?e.value:e||0,l=angular.isObject(t)?t.value:t||0,s=angular.isObject(e)&&angular.isDefined(e.type)?e.type:i?a(n||0):null;return{from:l,to:r,type:s,animate:o}},this.addBar=function(t){e.bars.push(t),e.totalPercent+=t.to},this.clearBars=function(){e.bars=[],e.totalPercent=0},this.clearBars()}]).directive(\"progress\",function(){return{restrict:\"EA\",replace:!0,controller:\"ProgressBarController\",scope:{value:\"=percent\",onFull:\"&\",onEmpty:\"&\"},templateUrl:\"template/progressbar/progress.html\",link:function(e,t,n,a){e.$watch(\"value\",function(e,t){if(a.clearBars(),angular.isArray(e))for(var n=0,o=e.length;o>n;n++)a.addBar(a.makeBar(e[n],t[n],n));else a.addBar(a.makeBar(e,t))},!0),e.$watch(\"totalPercent\",function(t){t>=100?e.onFull():0>=t&&e.onEmpty()},!0)}}}).directive(\"progressbar\",[\"$transition\",function(e){return{restrict:\"EA\",replace:!0,scope:{width:\"=\",old:\"=\",type:\"=\",animate:\"=\"},templateUrl:\"template/progressbar/bar.html\",link:function(t,n){t.$watch(\"width\",function(a){t.animate?(n.css(\"width\",t.old+\"%\"),e(n,{width:a+\"%\"})):n.css(\"width\",a+\"%\")})}}}]),angular.module(\"ui.bootstrap.rating\",[]).constant(\"ratingConfig\",{max:5}).directive(\"rating\",[\"ratingConfig\",\"$parse\",function(e,t){return{restrict:\"EA\",scope:{value:\"=\"},templateUrl:\"template/rating/rating.html\",replace:!0,link:function(n,a,o){var i=angular.isDefined(o.max)?n.$eval(o.max):e.max;n.range=[];for(var r=1;i>=r;r++)n.range.push(r);n.rate=function(e){n.readonly||(n.value=e)},n.enter=function(e){n.readonly||(n.val=e)},n.reset=function(){n.val=angular.copy(n.value)},n.reset(),n.$watch(\"value\",function(e){n.val=e}),n.readonly=!1,o.readonly&&n.$parent.$watch(t(o.readonly),function(e){n.readonly=!!e})}}}]),angular.module(\"ui.bootstrap.tabs\",[]).directive(\"tabs\",function(){return function(){throw Error(\"The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md\")}}).controller(\"TabsetController\",[\"$scope\",\"$element\",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),1==n.length&&t.select(e)},t.removeTab=function(e){var a=n.indexOf(e);if(e.active&&n.length>1){var o=a==n.length-1?a-1:a+1;t.select(n[o])}n.splice(a,1)}}]).directive(\"tabset\",function(){return{restrict:\"EA\",transclude:!0,scope:{},controller:\"TabsetController\",templateUrl:\"template/tabs/tabset.html\",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$eval(n.vertical):!1,e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):\"tabs\"}}}).directive(\"tab\",[\"$parse\",\"$http\",\"$templateCache\",\"$compile\",function(e){return{require:\"^tabset\",restrict:\"EA\",replace:!0,templateUrl:\"template/tabs/tab.html\",transclude:!0,scope:{heading:\"@\",onSelect:\"&select\"},controller:function(){},compile:function(t,n,a){return function(t,n,o,i){var r,l;t.active=!1,o.active?(r=e(o.active),l=r.assign,t.$parent.$watch(r,function(e){e&&t.disabled?l(t.$parent,!1):t.active=!!e})):l=r=angular.noop,t.$watch(\"active\",function(e){l(t.$parent,e),e&&(i.select(t),t.onSelect())}),t.disabled=!1,o.disabled&&t.$parent.$watch(e(o.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on(\"$destroy\",function(){i.removeTab(t)}),t.active&&l(t.$parent,!0),a(t.$parent,function(e){var n,a=[];angular.forEach(e,function(e){e.tagName&&(e.hasAttribute(\"tab-heading\")||e.hasAttribute(\"data-tab-heading\")||\"tab-heading\"==e.tagName.toLowerCase()||\"data-tab-heading\"==e.tagName.toLowerCase())?n=e:a.push(e)}),n&&(t.headingElement=angular.element(n)),t.contentElement=angular.element(a)})}}}}]).directive(\"tabHeadingTransclude\",[function(){return{restrict:\"A\",require:\"^tab\",link:function(e,t){e.$watch(\"headingElement\",function(e){e&&(t.html(\"\"),t.append(e))})}}}]).directive(\"tabContentTransclude\",[\"$parse\",function(e){return{restrict:\"A\",require:\"^tabset\",link:function(t,n,a){t.$watch(e(a.tabContentTransclude),function(e){n.html(\"\"),e&&n.append(e.contentElement)})}}}]),angular.module(\"ui.bootstrap.timepicker\",[]).filter(\"pad\",function(){return function(e){return angular.isDefined(e)&&2>(\"\"+e).length&&(e=\"0\"+e),e}}).constant(\"timepickerConfig\",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:[\"AM\",\"PM\"],readonlyInput:!1,mousewheel:!0}).directive(\"timepicker\",[\"padFilter\",\"$parse\",\"timepickerConfig\",function(e,t,n){return{restrict:\"EA\",require:\"ngModel\",replace:!0,templateUrl:\"template/timepicker/timepicker.html\",scope:{model:\"=ngModel\"},link:function(a,o,i){function r(){var e=parseInt(a.hours,10),t=a.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(a.showMeridian&&(12===e&&(e=0),a.meridian===u[1]&&(e+=12)),e):void 0}function l(){var t=c.getHours();a.showMeridian&&(t=0===t||12===t?12:t%12),a.hours=\"h\"===b?t:e(t),a.validHours=!0;var n=c.getMinutes();a.minutes=\"m\"===b?n:e(n),a.validMinutes=!0,a.meridian=a.showMeridian?12>c.getHours()?u[0]:u[1]:\"\",b=!1}function s(e){var t=new Date(c.getTime()+6e4*e);t.getDate()!==c.getDate()&&t.setDate(t.getDate()-1),c.setTime(t.getTime()),a.model=new Date(c)}var c=new Date,u=n.meridians,p=n.hourStep;i.hourStep&&a.$parent.$watch(t(i.hourStep),function(e){p=parseInt(e,10)});var d=n.minuteStep;i.minuteStep&&a.$parent.$watch(t(i.minuteStep),function(e){d=parseInt(e,10)}),a.showMeridian=n.showMeridian,i.showMeridian&&a.$parent.$watch(t(i.showMeridian),function(e){if(a.showMeridian=!!e,a.model)l();else{var t=new Date(c),n=r();angular.isDefined(n)&&t.setHours(n),a.model=new Date(t)}});var m=o.find(\"input\"),g=m.eq(0),f=m.eq(1),h=angular.isDefined(i.mousewheel)?a.$eval(i.mousewheel):n.mousewheel;if(h){var v=function(e){return e.originalEvent&&(e=e.originalEvent),e.detail||e.wheelDelta>0};g.bind(\"mousewheel\",function(e){a.$apply(v(e)?a.incrementHours():a.decrementHours()),e.preventDefault()}),f.bind(\"mousewheel\",function(e){a.$apply(v(e)?a.incrementMinutes():a.decrementMinutes()),e.preventDefault()})}var b=!1;a.readonlyInput=angular.isDefined(i.readonlyInput)?a.$eval(i.readonlyInput):n.readonlyInput,a.readonlyInput?(a.updateHours=angular.noop,a.updateMinutes=angular.noop):(a.updateHours=function(){var e=r();angular.isDefined(e)?(b=\"h\",null===a.model&&(a.model=new Date(c)),a.model.setHours(e)):(a.model=null,a.validHours=!1)},g.bind(\"blur\",function(){a.validHours&&10>a.hours&&a.$apply(function(){a.hours=e(a.hours)\n})}),a.updateMinutes=function(){var e=parseInt(a.minutes,10);e>=0&&60>e?(b=\"m\",null===a.model&&(a.model=new Date(c)),a.model.setMinutes(e)):(a.model=null,a.validMinutes=!1)},f.bind(\"blur\",function(){a.validMinutes&&10>a.minutes&&a.$apply(function(){a.minutes=e(a.minutes)})})),a.$watch(function(){return+a.model},function(e){!isNaN(e)&&e>0&&(c=new Date(e),l())}),a.incrementHours=function(){s(60*p)},a.decrementHours=function(){s(60*-p)},a.incrementMinutes=function(){s(d)},a.decrementMinutes=function(){s(-d)},a.toggleMeridian=function(){s(720*(12>c.getHours()?1:-1))}}}}]),angular.module(\"ui.bootstrap.typeahead\",[\"ui.bootstrap.position\"]).factory(\"typeaheadParser\",[\"$parse\",function(e){var t=/^\\s*(.*?)(?:\\s+as\\s+(.*?))?\\s+for\\s+(?:([\\$\\w][\\$\\w\\d]*))\\s+in\\s+(.*)$/;return{parse:function(n){var a=n.match(t);if(!a)throw Error(\"Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '\"+n+\"'.\");return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive(\"typeahead\",[\"$compile\",\"$parse\",\"$q\",\"$timeout\",\"$document\",\"$position\",\"typeaheadParser\",function(e,t,n,a,o,i,r){var l=[9,13,27,38,40];return{require:\"ngModel\",link:function(s,c,u,p){var d,m=s.$eval(u.typeaheadMinLength)||1,g=s.$eval(u.typeaheadWaitMs)||0,f=r.parse(u.typeahead),h=s.$eval(u.typeaheadEditable)!==!1,v=t(u.typeaheadLoading).assign||angular.noop,b=t(u.typeaheadOnSelect),$=angular.element(\"<typeahead-popup></typeahead-popup>\");$.attr({matches:\"matches\",active:\"activeIdx\",select:\"select(activeIdx)\",query:\"query\",position:\"position\"});var y=s.$new();s.$on(\"$destroy\",function(){y.$destroy()});var w=function(){y.matches=[],y.activeIdx=-1},k=function(e){var t={$viewValue:e};v(s,!0),n.when(f.source(y,t)).then(function(n){if(e===p.$viewValue){if(n.length>0){y.activeIdx=0,y.matches.length=0;for(var a=0;n.length>a;a++)t[f.itemName]=n[a],y.matches.push({label:f.viewMapper(y,t),model:n[a]});y.query=e,y.position=i.position(c),y.position.top=y.position.top+c.prop(\"offsetHeight\")}else w();v(s,!1)}},function(){w(),v(s,!1)})};w(),y.query=void 0,p.$parsers.push(function(e){var t;return w(),d?e:(e&&e.length>=m&&(g>0?(t&&a.cancel(t),t=a(function(){k(e)},g)):k(e)),h?e:void 0)}),p.$render=function(){var e={};e[f.itemName]=d||p.$viewValue,c.val(f.viewMapper(y,e)||p.$viewValue),d=void 0},y.select=function(e){var t,n,a={};a[f.itemName]=n=d=y.matches[e].model,t=f.modelMapper(y,a),p.$setViewValue(t),p.$render(),b(y,{$item:n,$model:t,$label:f.viewMapper(y,a)}),c[0].focus()},c.bind(\"keydown\",function(e){0!==y.matches.length&&-1!==l.indexOf(e.which)&&(e.preventDefault(),40===e.which?(y.activeIdx=(y.activeIdx+1)%y.matches.length,y.$digest()):38===e.which?(y.activeIdx=(y.activeIdx?y.activeIdx:y.matches.length)-1,y.$digest()):13===e.which||9===e.which?y.$apply(function(){y.select(y.activeIdx)}):27===e.which&&(e.stopPropagation(),w(),y.$digest()))}),o.bind(\"click\",function(){w(),y.$digest()}),c.after(e($)(y))}}}]).directive(\"typeaheadPopup\",function(){return{restrict:\"E\",scope:{matches:\"=\",query:\"=\",active:\"=\",position:\"=\",select:\"&\"},replace:!0,templateUrl:\"template/typeahead/typeahead.html\",link:function(e){e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).filter(\"typeaheadHighlight\",function(){function e(e){return e.replace(/([.?*+^$[\\]\\\\(){}|-])/g,\"\\\\$1\")}return function(t,n){return n?t.replace(RegExp(e(n),\"gi\"),\"<strong>$&</strong>\"):n}}),angular.module(\"template/accordion/accordion-group.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/accordion/accordion-group.html\",'<div class=\"accordion-group\">\\n  <div class=\"accordion-heading\" ><a class=\"accordion-toggle\" ng-click=\"isOpen = !isOpen\" accordion-transclude=\"heading\">{{heading}}</a></div>\\n  <div class=\"accordion-body\" collapse=\"!isOpen\">\\n    <div class=\"accordion-inner\" ng-transclude></div>  </div>\\n</div>')}]),angular.module(\"template/accordion/accordion.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/accordion/accordion.html\",'<div class=\"accordion\" ng-transclude></div>')}]),angular.module(\"template/alert/alert.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/alert/alert.html\",\"<div class='alert' ng-class='type && \\\"alert-\\\" + type'>\\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\\n    <div ng-transclude></div>\\n</div>\\n\")}]),angular.module(\"template/carousel/carousel.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/carousel/carousel.html\",'<div ng-mouseenter=\"pause()\" ng-mouseleave=\"play()\" class=\"carousel\">\\n    <ol class=\"carousel-indicators\" ng-show=\"slides().length > 1\">\\n        <li ng-repeat=\"slide in slides()\" ng-class=\"{active: isActive(slide)}\" ng-click=\"select(slide)\"></li>\\n    </ol>\\n    <div class=\"carousel-inner\" ng-transclude></div>\\n    <a ng-click=\"prev()\" class=\"carousel-control left\" ng-show=\"slides().length > 1\">&lsaquo;</a>\\n    <a ng-click=\"next()\" class=\"carousel-control right\" ng-show=\"slides().length > 1\">&rsaquo;</a>\\n</div>\\n')}]),angular.module(\"template/carousel/slide.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/carousel/slide.html\",\"<div ng-class=\\\"{\\n    'active': leaving || (active && !entering),\\n    'prev': (next || active) && direction=='prev',\\n    'next': (next || active) && direction=='next',\\n    'right': direction=='prev',\\n    'left': direction=='next'\\n  }\\\" class=\\\"item\\\" ng-transclude></div>\\n\")}]),angular.module(\"template/datepicker/datepicker.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/datepicker/datepicker.html\",'<table class=\"well well-large\">\\n  <thead>\\n    <tr class=\"text-center\">\\n      <th><button class=\"btn pull-left\" ng-click=\"move(-1)\"><i class=\"icon-chevron-left\"></i></button></th>\\n      <th colspan=\"{{rows[0].length - 2 + showWeekNumbers}}\"><button class=\"btn btn-block\" ng-click=\"toggleMode()\"><strong>{{title}}</strong></button></th>\\n      <th><button class=\"btn pull-right\" ng-click=\"move(1)\"><i class=\"icon-chevron-right\"></i></button></th>\\n    </tr>\\n    <tr class=\"text-center\" ng-show=\"labels.length > 0\">\\n      <th ng-show=\"showWeekNumbers\">#</th>\\n      <th ng-repeat=\"label in labels\">{{label}}</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr ng-repeat=\"row in rows\">\\n      <td ng-show=\"showWeekNumbers\" class=\"text-center\"><em>{{ getWeekNumber(row) }}</em></td>\\n      <td ng-repeat=\"dt in row\" class=\"text-center\">\\n        <button style=\"width:100%;\" class=\"btn\" ng-class=\"{\\'btn-info\\': dt.isSelected}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\"><span ng-class=\"{muted: ! dt.isCurrent}\">{{dt.label}}</span></button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),angular.module(\"template/dialog/message.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/dialog/message.html\",'<div class=\"modal-header\">\\n\t<h3>{{ title }}</h3>\\n</div>\\n<div class=\"modal-body\">\\n\t<p>{{ message }}</p>\\n</div>\\n<div class=\"modal-footer\">\\n\t<button ng-repeat=\"btn in buttons\" ng-click=\"close(btn.result)\" class=\"btn\" ng-class=\"btn.cssClass\">{{ btn.label }}</button>\\n</div>\\n')}]),angular.module(\"template/modal/backdrop.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/modal/backdrop.html\",'<div class=\"modal-backdrop\"></div>')}]),angular.module(\"template/modal/window.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/modal/window.html\",'<div class=\"modal in\" ng-transclude></div>')}]),angular.module(\"template/pagination/pager.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/pagination/pager.html\",'<div class=\"pager\">\\n  <ul>\\n    <li ng-repeat=\"page in pages\" ng-class=\"{disabled: page.disabled, previous: page.previous, next: page.next}\"><a ng-click=\"selectPage(page.number)\">{{page.text}}</a></li>\\n  </ul>\\n</div>\\n')}]),angular.module(\"template/pagination/pagination.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/pagination/pagination.html\",'<div class=\"pagination\"><ul>\\n  <li ng-repeat=\"page in pages\" ng-class=\"{active: page.active, disabled: page.disabled}\"><a ng-click=\"selectPage(page.number)\">{{page.text}}</a></li>\\n  </ul>\\n</div>\\n')}]),angular.module(\"template/tooltip/tooltip-html-unsafe-popup.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/tooltip/tooltip-html-unsafe-popup.html\",'<div class=\"tooltip {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\\n  <div class=\"tooltip-arrow\"></div>\\n  <div class=\"tooltip-inner\" ng-bind-html-unsafe=\"content\"></div>\\n</div>\\n')}]),angular.module(\"template/tooltip/tooltip-popup.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/tooltip/tooltip-popup.html\",'<div class=\"tooltip {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\\n  <div class=\"tooltip-arrow\"></div>\\n  <div class=\"tooltip-inner\" ng-bind=\"content\"></div>\\n</div>\\n')}]),angular.module(\"template/popover/popover.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/popover/popover.html\",'<div class=\"popover {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\\n  <div class=\"arrow\"></div>\\n\\n  <div class=\"popover-inner\">\\n      <h3 class=\"popover-title\" ng-bind=\"title\" ng-show=\"title\"></h3>\\n      <div class=\"popover-content\" ng-bind=\"content\"></div>\\n  </div>\\n</div>\\n')}]),angular.module(\"template/progressbar/bar.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/progressbar/bar.html\",'<div class=\"bar\" ng-class=\\'type && \"bar-\" + type\\'></div>')}]),angular.module(\"template/progressbar/progress.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/progressbar/progress.html\",'<div class=\"progress\"><progressbar ng-repeat=\"bar in bars\" width=\"bar.to\" old=\"bar.from\" animate=\"bar.animate\" type=\"bar.type\"></progressbar></div>')}]),angular.module(\"template/rating/rating.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/rating/rating.html\",'<span ng-mouseleave=\"reset()\">\\n\t<i ng-repeat=\"number in range\" ng-mouseenter=\"enter(number)\" ng-click=\"rate(number)\" ng-class=\"{\\'icon-star\\': number <= val, \\'icon-star-empty\\': number > val}\"></i>\\n</span>\\n')}]),angular.module(\"template/tabs/pane.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/tabs/pane.html\",'<div class=\"tab-pane\" ng-class=\"{active: selected}\" ng-show=\"selected\" ng-transclude></div>\\n')}]),angular.module(\"template/tabs/tab.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/tabs/tab.html\",'<li ng-class=\"{active: active, disabled: disabled}\">\\n  <a ng-click=\"select()\" tab-heading-transclude>{{heading}}</a>\\n</li>\\n')}]),angular.module(\"template/tabs/tabs.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/tabs/tabs.html\",'<div class=\"tabbable\">\\n  <ul class=\"nav nav-tabs\">\\n    <li ng-repeat=\"pane in panes\" ng-class=\"{active:pane.selected}\">\\n      <a ng-click=\"select(pane)\">{{pane.heading}}</a>\\n    </li>\\n  </ul>\\n  <div class=\"tab-content\" ng-transclude></div>\\n</div>\\n')}]),angular.module(\"template/tabs/tabset.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/tabs/tabset.html\",'\\n<div class=\"tabbable\">\\n  <ul class=\"nav {{type && \\'nav-\\' + type}}\" ng-class=\"{\\'nav-stacked\\': vertical}\" ng-transclude>\\n  </ul>\\n  <div class=\"tab-content\">\\n    <div class=\"tab-pane\" \\n         ng-repeat=\"tab in tabs\" \\n         ng-class=\"{active: tab.active}\"\\n         tab-content-transclude=\"tab\" tt=\"tab\">\\n    </div>\\n  </div>\\n</div>\\n')}]),angular.module(\"template/timepicker/timepicker.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/timepicker/timepicker.html\",'<table class=\"form-inline\">\\n\t<tr class=\"text-center\">\\n\t\t<td><a ng-click=\"incrementHours()\" class=\"btn btn-link\"><i class=\"icon-chevron-up\"></i></a></td>\\n\t\t<td>&nbsp;</td>\\n\t\t<td><a ng-click=\"incrementMinutes()\" class=\"btn btn-link\"><i class=\"icon-chevron-up\"></i></a></td>\\n\t\t<td ng-show=\"showMeridian\"></td>\\n\t</tr>\\n\t<tr>\\n\t\t<td class=\"control-group\" ng-class=\"{\\'error\\': !validHours}\"><input type=\"text\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"span1 text-center\" ng-mousewheel=\"incrementHours()\" ng-readonly=\"readonlyInput\" maxlength=\"2\" /></td>\\n\t\t<td>:</td>\\n\t\t<td class=\"control-group\" ng-class=\"{\\'error\\': !validMinutes}\"><input type=\"text\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"span1 text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\"></td>\\n\t\t<td ng-show=\"showMeridian\"><button ng-click=\"toggleMeridian()\" class=\"btn text-center\">{{meridian}}</button></td>\\n\t</tr>\\n\t<tr class=\"text-center\">\\n\t\t<td><a ng-click=\"decrementHours()\" class=\"btn btn-link\"><i class=\"icon-chevron-down\"></i></a></td>\\n\t\t<td>&nbsp;</td>\\n\t\t<td><a ng-click=\"decrementMinutes()\" class=\"btn btn-link\"><i class=\"icon-chevron-down\"></i></a></td>\\n\t\t<td ng-show=\"showMeridian\"></td>\\n\t</tr>\\n</table>')}]),angular.module(\"template/typeahead/typeahead.html\",[]).run([\"$templateCache\",function(e){e.put(\"template/typeahead/typeahead.html\",'<ul class=\"typeahead dropdown-menu\" ng-style=\"{display: isOpen()&&\\'block\\' || \\'none\\', top: position.top+\\'px\\', left: position.left+\\'px\\'}\">\\n    <li ng-repeat=\"match in matches\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\">\\n        <a tabindex=\"-1\" ng-click=\"selectMatch($index)\" ng-bind-html-unsafe=\"match.label | typeaheadHighlight:query\"></a>\\n    </li>\\n</ul>')}]);"]}